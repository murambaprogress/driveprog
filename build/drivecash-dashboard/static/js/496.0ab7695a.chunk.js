"use strict";(self.webpackChunkmaterial_dashboard_2_react=self.webpackChunkmaterial_dashboard_2_react||[]).push([[496],{5496:(a,n,e)=>{e.r(n),e.d(n,{approveLoan:()=>d,default:()=>g,denyLoan:()=>m,getAnalytics:()=>l,getAuditLogs:()=>p,getLoans:()=>r,getUsers:()=>s,logAdminAction:()=>y,refundPayment:()=>u,updateUser:()=>c});var t=e(9379);const o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE||"";async function i(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const e=o+a;try{const a=await fetch(e,n);if(!a.ok)throw new Error("API ".concat(e," returned ").concat(a.status));return await a.json()}catch(t){return console.warn("adminApi safeFetch failed, falling back to mock:",t.message),null}}async function s(){let{page:a=1,pageSize:n=10,query:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o="?page=".concat(a,"&pageSize=").concat(n,"&q=").concat(encodeURIComponent(e)),s=await i("/api/admin/users"+o);if(s)return s;const c=[{id:"user_001",name:"John Doe",email:"john.doe@email.com",status:"active"},{id:"user_002",name:"Jane Smith",email:"jane.smith@email.com",status:"suspended"},{id:"user_003",name:"Alice Park",email:"alice.park@email.com",status:"active"},{id:"user_004",name:"Bob Lee",email:"bob.lee@email.com",status:"active"},{id:"user_005",name:"Carla Gomez",email:"carla.gomez@email.com",status:"active"}],r=Array.from({length:45}).map((a,n)=>c[n%c.length]).map((a,n)=>(0,t.A)((0,t.A)({},a),{},{id:"user_".concat(100+n),name:"".concat(a.name," ").concat(n)})),d=(e||"").toLowerCase(),m=d?r.filter(a=>(a.name||"").toLowerCase().includes(d)||(a.email||"").toLowerCase().includes(d)||(a.id||"").toLowerCase().includes(d)):r,u=m.length,l=(a-1)*n;return{items:m.slice(l,l+n),total:u}}async function c(a,n){const e=await i("/api/admin/users/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return e||(0,t.A)({id:a},n)}async function r(){const a=await i("/api/admin/loans");return a||[]}async function d(a){const n=await i("/api/admin/loans/".concat(a,"/approve"),{method:"POST"});return n||{id:a,status:"approved"}}async function m(a,n){const e=await i("/api/admin/loans/".concat(a,"/deny"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:n})});return e||{id:a,status:"denied",reason:n}}async function u(a,n){const e=await i("/api/admin/payments/".concat(a,"/refund"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:n})});return e||{paymentId:a,refunded:!0,amount:n}}async function l(){const a=await i("/api/admin/analytics");return a||{totalUsers:1240,activeLoans:320,monthlyPayments:45230,revenue:1234500,paymentsByDay:Array.from({length:30},(a,n)=>({date:"2025-08-".concat(n+1),amount:Math.floor(5e3*Math.random())}))}}async function p(){const a=await i("/api/admin/audit");return a||[{id:"log_001",time:(new Date).toISOString(),admin:"admin_1",action:"approve_loan",details:"loan_101"},{id:"log_002",time:(new Date).toISOString(),admin:"admin_2",action:"refund_payment",details:"payment_202"}]}async function y(a){const n=await i("/api/admin/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return n||(0,t.A)({id:"log_".concat(Date.now())},a)}const g={getUsers:s,updateUser:c,getLoans:r,approveLoan:d,denyLoan:m,refundPayment:u,getAnalytics:l,getAuditLogs:p,logAdminAction:y}}}]);
//# sourceMappingURL=496.0ab7695a.chunk.js.map