"use strict";(self.webpackChunkmaterial_dashboard_2_react=self.webpackChunkmaterial_dashboard_2_react||[]).push([[751,998],{1751:(e,t,a)=>{a.d(t,{A:()=>v});a(5043);var l=a(9650),n=a(4882),s=a(39),i=a(8076),r=a(3336),o=a(1806),c=a(1962),d=a(3460),h=a(5658),u=a(1797),x=a(8961),m=a(579);const p=(0,h.Ay)(l.A)(e=>{let{theme:t}=e;return{borderRadius:t.spacing(2),overflow:"hidden",boxShadow:"none",border:"1px solid ".concat(t.palette.grey[200])}}),A=(0,h.Ay)(n.A)(e=>{let{theme:t}=e;return{backgroundColor:t.palette.grey[50]}}),g=(0,h.Ay)(s.A)(e=>{let{theme:t,width:a}=e;return{padding:t.spacing(2),fontSize:"0.875rem",fontWeight:500,borderBottom:"1px solid ".concat(t.palette.grey[200]),whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:a||"auto",maxWidth:a?"".concat(a,"px"):"none","&.MuiTableCell-head":{backgroundColor:t.palette.grey[50],fontWeight:600,color:t.palette.text.primary,textTransform:"uppercase",fontSize:"0.75rem",letterSpacing:"0.5px"}}}),j=(0,h.Ay)(i.A)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.palette.action.hover},"&:last-child td":{borderBottom:0}}}),f=(0,h.Ay)(u.A)({display:"flex",alignItems:"center",maxWidth:"100%",overflow:"hidden"}),b=(0,h.Ay)(x.A)(e=>{let{maxWidth:t=200}=e;return{maxWidth:"".concat(t,"px"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});const v=function(e){let{columns:t=[],data:a=[],selectedItems:l=[],onSelectAll:n,onSelectItem:s,showCheckbox:h=!1,stickyHeader:v=!1,maxHeight:y="auto",responsive:S=!0}=e;const C=a.length>0&&l.length===a.length,w=l.length>0&&l.length<a.length;return(0,m.jsx)(p,{component:r.A,sx:{maxHeight:y,overflow:"auto"},children:(0,m.jsxs)(o.A,{stickyHeader:v,size:"medium",children:[(0,m.jsx)(A,{children:(0,m.jsxs)(i.A,{children:[h&&(0,m.jsx)(g,{padding:"checkbox",width:50,children:(0,m.jsx)(c.A,{indeterminate:w,checked:C,onChange:e=>{n&&n(e.target.checked)},color:"primary"})}),t.map(e=>(0,m.jsx)(g,{align:e.align||"left",width:e.width,sx:{minWidth:e.minWidth||"auto"},children:e.label},e.id))]})}),(0,m.jsxs)(d.A,{children:[a.map((e,a)=>{return(0,m.jsxs)(j,{children:[h&&(0,m.jsx)(g,{padding:"checkbox",children:(0,m.jsx)(c.A,{checked:l.some(t=>t.id===e.id),onChange:(n=e,e=>{s&&s(n,e.target.checked)}),color:"primary"})}),t.map(t=>(0,m.jsx)(g,{align:t.align||"left",width:t.width,children:(0,m.jsx)(f,{children:t.format?t.format(e[t.id],e):(0,m.jsx)(b,{variant:"body2",maxWidth:t.maxWidth||200,title:String(e[t.id]),children:e[t.id]})})},t.id))]},e.id||a);var n}),0===a.length&&(0,m.jsx)(j,{children:(0,m.jsx)(g,{colSpan:t.length+(h?1:0),align:"center",children:(0,m.jsx)(u.A,{py:4,children:(0,m.jsx)(x.A,{variant:"body2",color:"text",opacity:.7,children:"No data available"})})})})]})]})})}},7617:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var l=a(9379),n=a(5043),s=a(6460),i=a(8294),r=a(2110),o=a(1797),c=a(8961),d=a(6801),h=a(1758),u=a(1751),x=a(8095),m=a(7311),p=a(35),A=a(6600),g=a(5316),j=a(9347),f=a(1962),b=a(8903),v=a(3845),y=a(7392),S=a(4208),C=a(5397),w=a(7254),k=a(9135),W=a(1045),I=a(1136),z=a(120),B=a(611),L=a(4794),D=a(7601),U=a(579);function R(e){let{user:t,onEdit:a,onQuickAction:l}=e;const n=e=>({active:"#4caf50",suspended:"#f44336",pending:"#ff9800",verified:"#2196f3"}[e]||"#757575"),s=e=>e>=750?"#4caf50":e>=650?"#ff9800":"#f44336";return(0,U.jsxs)(r.A,{sx:{p:2.5,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:6},border:"2px solid ".concat((0,L.X4)(n(t.status),.2))},children:[(0,U.jsxs)(o.A,{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:2,children:[(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(I.A,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,U.jsx)("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:n(t.status),border:"2px solid white"}}),children:(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(W.A,{sx:{bgcolor:n(t.status),width:56,height:56,fontSize:"1.5rem",mr:2},children:t.name.charAt(0).toUpperCase()}),(0,U.jsx)(o.A,{sx:{ml:1,display:"flex",alignItems:"center"},children:(0,U.jsx)(S.A,{sx:{color:n(t.status),fontSize:20},children:"verified"===t.status?"verified_user":"suspended"===t.status?"warning":"pending"===t.status?"hourglass_top":"person"})})]})}),(0,U.jsxs)(o.A,{children:[(0,U.jsx)(c.A,{variant:"h6",fontWeight:"bold",color:"text",children:t.name}),(0,U.jsx)(c.A,{variant:"body2",color:"text",opacity:.8,children:t.email}),(0,U.jsxs)(c.A,{variant:"caption",color:"text",opacity:.6,children:["ID: ",t.id]})]})]}),(0,U.jsx)(v.A,{label:t.status,sx:{bgcolor:(0,L.X4)(n(t.status),.1),color:n(t.status),fontWeight:"bold",textTransform:"capitalize"}})]}),(0,U.jsxs)(b.Ay,{container:!0,spacing:2,mb:2,children:[(0,U.jsxs)(b.Ay,{item:!0,xs:6,children:[(0,U.jsx)(c.A,{variant:"caption",color:"text",opacity:.8,children:"Credit Score"}),(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(c.A,{variant:"h6",fontWeight:"bold",sx:{color:s(t.creditScore)},children:t.creditScore}),(0,U.jsx)(B.A,{variant:"determinate",value:t.creditScore/850*100,sx:{ml:1,flex:1,height:6,borderRadius:3,bgcolor:(0,L.X4)(s(t.creditScore),.2),"& .MuiLinearProgress-bar":{bgcolor:s(t.creditScore)}}})]})]}),(0,U.jsxs)(b.Ay,{item:!0,xs:6,children:[(0,U.jsx)(c.A,{variant:"caption",color:"text",opacity:.8,children:"Total Borrowed"}),(0,U.jsxs)(c.A,{variant:"h6",fontWeight:"bold",color:"text",children:["$",(t.totalBorrowed||0).toLocaleString()]})]})]}),(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"space-between",mt:2,children:[(0,U.jsxs)(o.A,{children:[(0,U.jsx)(c.A,{variant:"caption",color:"text",opacity:.8,children:"Member since"}),(0,U.jsx)(c.A,{variant:"body2",color:"text",children:x._J.date(t.createdDate)})]}),(0,U.jsxs)(o.A,{display:"flex",gap:1,children:[(0,U.jsx)(z.A,{title:"View Details",children:(0,U.jsx)(y.A,{size:"small",onClick:()=>a(t),sx:{bgcolor:(0,L.X4)("#2196f3",.1),color:"#2196f3","&:hover":{bgcolor:(0,L.X4)("#2196f3",.2)}},children:(0,U.jsx)(S.A,{fontSize:"small",children:"visibility"})})}),(0,U.jsx)(z.A,{title:"Quick Actions",children:(0,U.jsx)(y.A,{size:"small",onClick:()=>l(t),sx:{bgcolor:(0,L.X4)("#4caf50",.1),color:"#4caf50","&:hover":{bgcolor:(0,L.X4)("#4caf50",.2)}},children:(0,U.jsx)(S.A,{fontSize:"small",children:"settings"})})})]})]})]})}function _(e){let{open:t,onClose:a,user:s,onSave:i}=e;const[r,u]=(0,n.useState)({name:"",email:"",phone:"",status:"",creditScore:0,totalBorrowed:0,accountBalance:0}),[x,m]=(0,n.useState)(0);if((0,n.useEffect)(()=>{s&&u({name:s.name||"",email:s.email||"",phone:s.phone||"",status:s.status||"",creditScore:s.creditScore||0,totalBorrowed:s.totalBorrowed||0,accountBalance:s.accountBalance||0})},[s]),!s)return null;return(0,U.jsxs)(p.A,{open:t,onClose:a,fullWidth:!0,maxWidth:"md",children:[(0,U.jsx)(A.A,{children:(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(W.A,{sx:{mr:2,bgcolor:"#2196f3"},children:s.name.charAt(0).toUpperCase()}),(0,U.jsxs)(o.A,{children:[(0,U.jsxs)(c.A,{variant:"h6",children:["Edit User: ",s.name]}),(0,U.jsxs)(c.A,{variant:"caption",color:"text",children:["ID: ",s.id," \u2022 Status: ",s.status]})]})]})}),(0,U.jsxs)(g.A,{children:[(0,U.jsx)(o.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,U.jsx)(o.A,{display:"flex",gap:2,children:["Basic Info","Financial","Activity"].map((e,t)=>(0,U.jsx)(d.A,{variant:x===t?"contained":"text",size:"small",onClick:()=>m(t),children:e},t))})}),0===x&&(0,U.jsxs)(b.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,children:(0,U.jsx)(h.RL,{label:"Full Name",fullWidth:!0,value:r.name,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{name:e.target.value}))})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,children:(0,U.jsx)(h.RL,{label:"Email",fullWidth:!0,type:"email",value:r.email,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{email:e.target.value}))})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,children:(0,U.jsx)(h.RL,{label:"Phone",fullWidth:!0,value:r.phone,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{phone:e.target.value}))})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,children:(0,U.jsx)(h.$3,{label:"Status",fullWidth:!0,value:r.status,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{status:e.target.value})),options:[{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"pending",label:"Pending"},{value:"verified",label:"Verified"}]})})]}),1===x&&(0,U.jsxs)(b.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,U.jsx)(b.Ay,{item:!0,xs:12,md:4,children:(0,U.jsx)(h.RL,{label:"Credit Score",fullWidth:!0,type:"number",value:r.creditScore,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{creditScore:parseInt(e.target.value)||0})),inputProps:{min:300,max:850}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:4,children:(0,U.jsx)(h.RL,{label:"Total Borrowed ($)",fullWidth:!0,type:"number",value:r.totalBorrowed,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{totalBorrowed:parseFloat(e.target.value)||0}))})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:4,children:(0,U.jsx)(h.RL,{label:"Account Balance ($)",fullWidth:!0,type:"number",value:r.accountBalance,onChange:e=>u(t=>(0,l.A)((0,l.A)({},t),{},{accountBalance:parseFloat(e.target.value)||0}))})})]}),2===x&&(0,U.jsxs)(o.A,{sx:{mt:2},children:[(0,U.jsx)(c.A,{variant:"h6",mb:2,children:"Recent Activity"}),(0,U.jsxs)(o.A,{display:"flex",flexDirection:"column",gap:1,children:[(0,U.jsxs)(o.A,{p:2,sx:{bgcolor:(0,L.X4)("#2196f3",.05),borderRadius:2},children:[(0,U.jsx)(c.A,{variant:"body2",fontWeight:"bold",children:"Last Login"}),(0,U.jsx)(c.A,{variant:"caption",color:"text",children:new Date(s.createdDate).toLocaleString()})]}),(0,U.jsxs)(o.A,{p:2,sx:{bgcolor:(0,L.X4)("#4caf50",.05),borderRadius:2},children:[(0,U.jsx)(c.A,{variant:"body2",fontWeight:"bold",children:"Account Created"}),(0,U.jsx)(c.A,{variant:"caption",color:"text",children:new Date(s.createdDate).toLocaleString()})]})]})]})]}),(0,U.jsxs)(j.A,{sx:{p:3},children:[(0,U.jsx)(d.A,{variant:"outlined",onClick:a,children:"Cancel"}),(0,U.jsx)(d.A,{variant:"contained",onClick:()=>i((0,l.A)((0,l.A)({},s),r)),children:"Save Changes"})]})]})}function E(e){let{open:t,onClose:a,selectedUsers:l,onBulkAction:s}=e;const[i,r]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[x,m]=(0,n.useState)(0);return(0,U.jsxs)(p.A,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[(0,U.jsx)(A.A,{children:(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(S.A,{sx:{mr:1,color:"#ff9800"},children:"group_work"}),"Bulk Operations (",l.length," users selected)"]})}),(0,U.jsx)(g.A,{children:(0,U.jsxs)(b.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,U.jsx)(b.Ay,{item:!0,xs:12,children:(0,U.jsx)(h.$3,{fullWidth:!0,label:"Operation",value:i,onChange:e=>r(e.target.value),options:[{value:"updateStatus",label:"Update Status"},{value:"adjustCredit",label:"Adjust Credit Score"},{value:"suspend",label:"Suspend All"},{value:"activate",label:"Activate All"},{value:"delete",label:"Delete All"}]})}),"updateStatus"===i&&(0,U.jsx)(b.Ay,{item:!0,xs:12,children:(0,U.jsx)(h.$3,{fullWidth:!0,label:"New Status",value:c,onChange:e=>u(e.target.value),options:[{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"pending",label:"Pending"},{value:"verified",label:"Verified"}]})}),"adjustCredit"===i&&(0,U.jsx)(b.Ay,{item:!0,xs:12,children:(0,U.jsx)(h.RL,{fullWidth:!0,label:"Credit Score Adjustment",type:"number",value:x,onChange:e=>m(parseInt(e.target.value)||0),helperText:"Positive number to increase, negative to decrease"})})]})}),(0,U.jsxs)(j.A,{children:[(0,U.jsx)(d.A,{variant:"outlined",onClick:a,children:"Cancel"}),(0,U.jsx)(d.A,{variant:"contained",onClick:()=>{const e=l.map(e=>e.id);switch(i){case"updateStatus":c&&s("status",e,{status:c});break;case"adjustCredit":0!==x&&s("creditScore",e,{creditScoreAdjustment:x});break;case"suspend":s("status",e,{status:"suspended"});break;case"activate":s("status",e,{status:"active"});break;case"delete":window.confirm("Are you sure you want to delete ".concat(e.length," users? This action cannot be undone."))&&s("delete",e)}a()},color:"delete"===i?"error":"info",children:"Apply"})]})]})}const T=function(){const[e,t]=(0,n.useState)([]),[a,p]=(0,n.useState)(0),[A,g]=(0,n.useState)(!1),[j,I]=(0,n.useState)("cards"),[T,M]=(0,n.useState)(""),[P,X]=(0,n.useState)(""),[F,V]=(0,n.useState)(""),[$,N]=(0,n.useState)(""),[O,H]=(0,n.useState)(""),[J,Q]=(0,n.useState)(""),[Y,q]=(0,n.useState)(1),[G,K]=(0,n.useState)(12),[Z,ee]=(0,n.useState)("name"),[te,ae]=(0,n.useState)("asc"),[le,ne]=(0,n.useState)([]),[se,ie]=(0,n.useState)(!1),[re,oe]=(0,n.useState)(null),[ce,de]=(0,n.useState)(!1),[he,ue]=(0,n.useState)(!1),[xe,me]=(0,n.useState)({open:!1,message:"",severity:"success"}),pe=function(e){me({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},Ae=(0,n.useCallback)(async()=>{g(!0);try{const e={page:Y,pageSize:G,search:T,status:P,dateFrom:F,dateTo:$,amountMin:O?parseInt(O):void 0,amountMax:J?parseInt(J):void 0,sortBy:Z,sortOrder:te},a=m.A.getUsers(e);t(a.items),p(a.total)}catch(e){pe("Error loading users","error")}finally{g(!1)}},[Y,G,T,P,F,$,O,J,Z,te]);(0,n.useEffect)(()=>{Ae()},[Ae]);const ge=t=>{ie(t),ne(t?[...e]:[])},je=(e,t)=>{t?ne([...le,e]):(ne(le.filter(t=>t.id!==e.id)),ie(!1))},fe=Math.max(1,Math.ceil(a/G)),be=e=>{switch(e){case"active":return"success";case"suspended":return"error";case"pending":return"warning";case"verified":return"info";default:return"default"}};return(0,U.jsxs)(s.A,{children:[(0,U.jsx)(i.A,{}),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(o.A,{mb:3,children:[(0,U.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,U.jsxs)(o.A,{children:[(0,U.jsx)(c.A,{variant:"h4",fontWeight:"bold",color:"text",children:"Users Management"}),(0,U.jsx)(c.A,{variant:"body2",color:"text",opacity:.8,children:"Manage all user accounts, permissions, and financial profiles"})]}),(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1,children:[(0,U.jsx)(z.A,{title:"Card View",children:(0,U.jsx)(y.A,{onClick:()=>I("cards"),color:"cards"===j?"info":"default",children:(0,U.jsx)(S.A,{children:"view_module"})})}),(0,U.jsx)(z.A,{title:"Table View",children:(0,U.jsx)(y.A,{onClick:()=>I("table"),color:"table"===j?"info":"default",children:(0,U.jsx)(S.A,{children:"table_rows"})})})]})]}),(0,U.jsxs)(b.Ay,{container:!0,spacing:3,mb:3,children:[(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,lg:3,children:(0,U.jsx)(D.A,{color:"info",icon:(0,U.jsx)(S.A,{sx:{color:"#2196f3",fontSize:28},children:"groups"}),title:"Total Users",count:a.toString(),percentage:{color:"info",amount:"+12%",label:"since last month"}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,lg:3,children:(0,U.jsx)(D.A,{color:"success",icon:(0,U.jsx)(S.A,{sx:{color:"#4caf50",fontSize:28},children:"bolt"}),title:"Active Users",count:e.filter(e=>"active"===e.status).length.toString(),percentage:{color:"success",amount:"+8%",label:"active now"}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,lg:3,children:(0,U.jsx)(D.A,{color:"warning",icon:(0,U.jsx)(S.A,{sx:{color:"#ff9800",fontSize:28},children:"pending_actions"}),title:"Pending Verification",count:e.filter(e=>"pending"===e.status).length.toString(),percentage:{color:"warning",amount:"+5%",label:"awaiting review"}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:6,lg:3,children:(0,U.jsx)(D.A,{color:"dark",icon:(0,U.jsx)(S.A,{sx:{color:"#616161",fontSize:28},children:"check_circle"}),title:"Selected",count:le.length.toString(),percentage:{color:"dark",amount:"+0%",label:"selected items"}})})]}),(0,U.jsxs)(r.A,{sx:{p:3,mb:3},children:[(0,U.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,U.jsx)(c.A,{variant:"h6",fontWeight:"medium",children:"Filters & Search"}),(0,U.jsxs)(o.A,{display:"flex",gap:1,children:[(0,U.jsx)(d.A,{variant:"outlined",onClick:()=>{const t=le.length?le:e;m.A.exportCSV("users",t),pe("Exported ".concat(t.length," users to CSV"))},disabled:!e.length,children:"Export CSV"}),(0,U.jsx)(d.A,{variant:"outlined",onClick:()=>{m.A.exportData("users"),pe("Users data exported to JSON")},children:"Export JSON"}),le.length>0&&(0,U.jsxs)(d.A,{variant:"contained",color:"warning",onClick:()=>ue(!0),children:["Bulk Actions (",le.length,")"]})]})]}),(0,U.jsxs)(b.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,U.jsx)(b.Ay,{item:!0,xs:12,md:3,children:(0,U.jsx)(h.RL,{placeholder:"Search users...",value:T,onChange:e=>{M(e.target.value),q(1)},fullWidth:!0})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:2,children:(0,U.jsx)(h.$3,{fullWidth:!0,label:"Status",value:P,onChange:e=>{X(e.target.value),q(1)},options:[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"pending",label:"Pending"},{value:"verified",label:"Verified"}]})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:2,children:(0,U.jsx)(h.RL,{label:"Date From",type:"date",fullWidth:!0,size:"small",value:F,onChange:e=>{V(e.target.value),q(1)},InputLabelProps:{shrink:!0}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:2,children:(0,U.jsx)(h.RL,{label:"Date To",type:"date",fullWidth:!0,size:"small",value:$,onChange:e=>{N(e.target.value),q(1)},InputLabelProps:{shrink:!0}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:1.5,children:(0,U.jsx)(h.RL,{label:"Min Amount",type:"number",fullWidth:!0,size:"small",value:O,onChange:e=>{H(e.target.value),q(1)}})}),(0,U.jsx)(b.Ay,{item:!0,xs:12,md:1.5,children:(0,U.jsx)(h.RL,{label:"Max Amount",type:"number",fullWidth:!0,size:"small",value:J,onChange:e=>{Q(e.target.value),q(1)}})})]}),(0,U.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,children:[(0,U.jsx)(d.A,{variant:"text",onClick:()=>{M(""),X(""),V(""),N(""),H(""),Q(""),q(1)},size:"small",children:"Clear All Filters"}),(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",gap:2,children:[(0,U.jsx)(c.A,{variant:"caption",children:"Sort by:"}),(0,U.jsx)(h.$3,{size:"small",value:Z,onChange:e=>ee(e.target.value),options:[{value:"name",label:"Name"},{value:"email",label:"Email"},{value:"createdDate",label:"Date Created"},{value:"totalBorrowed",label:"Total Borrowed"},{value:"creditScore",label:"Credit Score"}],showLabel:!1}),(0,U.jsx)(h.$3,{size:"small",value:te,onChange:e=>ae(e.target.value),options:[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],showLabel:!1})]})]})]})]}),A&&(0,U.jsx)(o.A,{display:"flex",justifyContent:"center",my:4,children:(0,U.jsx)(B.A,{sx:{width:"50%"}})}),!A&&(0,U.jsxs)(U.Fragment,{children:["cards"===j&&(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",gap:2,mb:3,children:[(0,U.jsx)(f.A,{checked:se,onChange:e=>ge(e.target.checked)}),(0,U.jsxs)(c.A,{variant:"body2",children:["Select All (",e.length," users)"]}),le.length>0&&(0,U.jsx)(v.A,{label:"".concat(le.length," selected"),color:"primary",size:"small"})]}),"cards"===j&&(0,U.jsx)(b.Ay,{container:!0,spacing:3,children:e.map(e=>(0,U.jsx)(b.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,U.jsxs)(o.A,{position:"relative",children:[(0,U.jsx)(f.A,{checked:le.some(t=>t.id===e.id),onChange:t=>je(e,t.target.checked),sx:{position:"absolute",top:8,left:8,zIndex:1,bgcolor:"white",borderRadius:"50%","&:hover":{bgcolor:(0,L.X4)("#fff",.9)}}}),(0,U.jsx)(R,{user:e,onEdit:e=>{oe(e),de(!0)},onQuickAction:e=>{pe("Quick action for ".concat(e.name),"info")}})]})},e.id))}),"table"===j&&(0,U.jsx)(u.A,{columns:[{id:"name",label:"Name",width:200,minWidth:150,align:"left",format:(e,t)=>(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",children:[(0,U.jsx)(W.A,{sx:{mr:2,bgcolor:"#2196f3",width:32,height:32},children:t.name.charAt(0).toUpperCase()}),(0,U.jsxs)(o.A,{children:[(0,U.jsx)(c.A,{variant:"button",fontWeight:"medium",noWrap:!0,children:t.name}),(0,U.jsxs)(c.A,{variant:"caption",color:"text",display:"block",noWrap:!0,children:["ID: ",t.id]})]})]})},{id:"email",label:"Email",width:250,minWidth:200,align:"left",format:e=>(0,U.jsx)(c.A,{variant:"body2",noWrap:!0,title:e,children:e})},{id:"status",label:"Status",width:120,align:"center",format:e=>(0,U.jsx)(v.A,{label:e,color:be(e),size:"small"})},{id:"creditScore",label:"Credit Score",width:120,align:"center",format:e=>(0,U.jsx)(c.A,{variant:"button",fontWeight:"medium",children:e})},{id:"totalBorrowed",label:"Total Borrowed",width:140,align:"right",format:e=>x._J.currency(e||0)},{id:"createdDate",label:"Created",width:130,align:"center",format:e=>x._J.date(e)},{id:"actions",label:"Actions",width:120,align:"center",format:(e,t)=>(0,U.jsx)(o.A,{display:"flex",justifyContent:"center",gap:1,children:(0,U.jsx)(z.A,{title:"Edit User",children:(0,U.jsx)(y.A,{size:"small",onClick:()=>{oe(t),de(!0)},sx:{width:32,height:32,"&:hover":{bgcolor:(0,L.X4)("#2196f3",.1)}},children:(0,U.jsx)(S.A,{fontSize:"small",children:"edit"})})})})}],data:e,selectedItems:le,onSelectAll:ge,onSelectItem:je,showCheckbox:!0,stickyHeader:!1,maxHeight:"70vh"}),(0,U.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:4,children:[(0,U.jsxs)(o.A,{display:"flex",alignItems:"center",gap:2,children:[(0,U.jsx)(c.A,{variant:"caption",children:"Page size:"}),(0,U.jsx)(h.$3,{size:"small",value:G,onChange:e=>{K(Number(e.target.value)),q(1)},options:[{value:6,label:"6"},{value:12,label:"12"},{value:24,label:"24"},{value:48,label:"48"}],showLabel:!1}),(0,U.jsxs)(c.A,{variant:"caption",children:["Showing ",(Y-1)*G+1," - ",Math.min(Y*G,a)," of ",a]})]}),(0,U.jsx)(k.A,{count:fe,page:Y,onChange:(e,t)=>q(t),color:"primary",size:"large"})]})]}),(0,U.jsx)(_,{open:ce,onClose:()=>de(!1),user:re,onSave:async e=>{try{m.A.updateUser(e.id,e)&&(pe("User updated successfully"),de(!1),Ae())}catch(t){pe("Error updating user","error")}}}),(0,U.jsx)(E,{open:he,onClose:()=>ue(!1),selectedUsers:le,onBulkAction:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let l;switch(e){case"status":l=m.A.bulkUpdateUsers(t,{status:a.status}),pe("".concat(l.updatedCount," users updated"));break;case"creditScore":l=m.A.bulkUpdateUsers(t,a),pe("".concat(l.updatedCount," users updated"));break;case"delete":l=m.A.bulkDeleteUsers(t),pe("".concat(l.deletedCount," users deleted"))}ne([]),ie(!1),Ae()}catch(l){pe("Error performing bulk operation","error")}}}),(0,U.jsx)(C.A,{open:xe.open,autoHideDuration:4e3,onClose:()=>me((0,l.A)((0,l.A)({},xe),{},{open:!1})),children:(0,U.jsx)(w.A,{severity:xe.severity,onClose:()=>me((0,l.A)((0,l.A)({},xe),{},{open:!1})),children:xe.message})})]})]})}}}]);
//# sourceMappingURL=998.f3214e72.chunk.js.map