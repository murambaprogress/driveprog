"use strict";(self.webpackChunkmaterial_dashboard_2_react=self.webpackChunkmaterial_dashboard_2_react||[]).push([[243],{3243:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var n=a(9379),r=a(5043),l=a(6460),s=a(8294),i=a(2110),o=a(1797),c=a(8961),d=a(6801),m=a(8944),h=a(7311),x=a(8903),u=a(4598),A=a(8587),p=a(8168),j=a(3024),y=a(8610),g=a(5213),b=a(5865),v=a(6803),f=a(4535),C=a(2876),L=a(2532),S=a(2372);function w(e){return(0,S.Ay)("MuiFormControlLabel",e)}const T=(0,L.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);var R=a(4827),D=a(579);const k=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],E=(0,f.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[{["& .".concat(T.label)]:t.label},t.root,t["labelPlacement".concat((0,v.A)(a.labelPlacement))]]}})(e=>{let{theme:t,ownerState:a}=e;return(0,p.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(T.disabled)]:{cursor:"default"}},"start"===a.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===a.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===a.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(T.label)]:{["&.".concat(T.disabled)]:{color:(t.vars||t).palette.text.disabled}}})}),I=(0,f.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(e=>{let{theme:t}=e;return{["&.".concat(T.error)]:{color:(t.vars||t).palette.error.main}}}),P=r.forwardRef(function(e,t){var a,n;const l=(0,C.A)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:i={},control:o,disabled:c,disableTypography:d,label:m,labelPlacement:h="end",required:x,slotProps:u={}}=l,f=(0,A.A)(l,k),L=(0,g.A)(),S=null!=(a=null!=c?c:o.props.disabled)?a:null==L?void 0:L.disabled,T=null!=x?x:o.props.required,P={disabled:S,required:T};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof o.props[e]&&"undefined"!==typeof l[e]&&(P[e]=l[e])});const M=(0,R.A)({props:l,muiFormControl:L,states:["error"]}),N=(0,p.A)({},l,{disabled:S,labelPlacement:h,required:T,error:M.error}),W=(e=>{const{classes:t,disabled:a,labelPlacement:n,error:r,required:l}=e,s={root:["root",a&&"disabled","labelPlacement".concat((0,v.A)(n)),r&&"error",l&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",r&&"error"]};return(0,y.A)(s,w,t)})(N),F=null!=(n=u.typography)?n:i.typography;let _=m;return null==_||_.type===b.A||d||(_=(0,D.jsx)(b.A,(0,p.A)({component:"span"},F,{className:(0,j.A)(W.label,null==F?void 0:F.className),children:_}))),(0,D.jsxs)(E,(0,p.A)({className:(0,j.A)(W.root,s),ownerState:N,ref:t},f,{children:[r.cloneElement(o,P),_,T&&(0,D.jsxs)(I,{ownerState:N,"aria-hidden":!0,className:W.asterisk,children:["\u2009","*"]})]}))});var M=a(9336),N=a(5397),W=a(7254),F=a(611),_=a(35),q=a(6600),U=a(5316),z=a(9347),B=a(5721),V=a(4628),G=a(8734),H=a(8266),J=a(4208),O=a(3845);const $=function(){const[e,t]=(0,r.useState)({systemName:"DriveCash Lending Platform",maxLoanAmount:5e4,minLoanAmount:1e3,defaultInterestRate:12.5,maxLoanTerm:60,minCreditScore:600,autoApprovalThreshold:750,enableNotifications:!0,enableAuditLog:!0,maintenanceMode:!1,dataRetentionDays:365}),[a,A]=(0,r.useState)({totalUsers:0,totalLoans:0,totalPayments:0,systemUptime:"0 days",dataSize:"0 MB"}),[p,j]=(0,r.useState)([]),[y,g]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[f,C]=(0,r.useState)(0),[L,S]=(0,r.useState)(!1),[w,T]=(0,r.useState)({open:!1,message:"",severity:"success"}),R=function(e){T({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})};(0,r.useEffect)(()=>{k(),E();try{const e=h.A.getSettings();e&&t(t=>(0,n.A)((0,n.A)({},t),e))}catch(e){}},[]);const k=()=>{try{const e=h.A.getSystemStats();A(e)}catch(e){R("Error loading system stats","error")}},E=()=>{try{const e=h.A.getAuditLogs({limit:50});j(e)}catch(e){R("Error loading audit logs","error")}},I=(e,a)=>{t(t=>(0,n.A)((0,n.A)({},t),{},{[e]:a}))};return(0,D.jsxs)(l.A,{children:[(0,D.jsx)(s.A,{}),(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(i.A,{children:(0,D.jsxs)(o.A,{p:3,children:[(0,D.jsx)(c.A,{variant:"h6",mb:2,children:"System Information"}),(0,D.jsxs)(x.Ay,{container:!0,spacing:2,children:[(0,D.jsxs)(x.Ay,{item:!0,xs:6,children:[(0,D.jsx)(c.A,{variant:"caption",color:"text",children:"Total Users"}),(0,D.jsx)(c.A,{variant:"h4",children:a.totalUsers})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,children:[(0,D.jsx)(c.A,{variant:"caption",color:"text",children:"Total Loans"}),(0,D.jsx)(c.A,{variant:"h4",children:a.totalLoans})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,children:[(0,D.jsx)(c.A,{variant:"caption",color:"text",children:"Total Payments"}),(0,D.jsx)(c.A,{variant:"h4",children:a.totalPayments})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:6,children:[(0,D.jsx)(c.A,{variant:"caption",color:"text",children:"Data Size"}),(0,D.jsx)(c.A,{variant:"h6",children:a.dataSize})]})]})]})})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(i.A,{children:(0,D.jsxs)(o.A,{p:3,children:[(0,D.jsx)(c.A,{variant:"h6",mb:2,children:"Quick Actions"}),(0,D.jsxs)(o.A,{display:"flex",flexDirection:"column",gap:2,children:[(0,D.jsx)(d.A,{variant:"contained",color:"info",onClick:()=>g(!0),startIcon:(0,D.jsx)(J.A,{children:"history"}),children:"View Audit Logs"}),(0,D.jsx)(d.A,{variant:"contained",color:"success",onClick:()=>{if(window.confirm("Generate sample data? This will add 50 users, 120 loans, and 200 payments."))try{h.A.generateSampleData(),R("Sample data generated successfully"),k()}catch(e){R("Error generating sample data","error")}},startIcon:(0,D.jsx)(J.A,{children:"add"}),children:"Generate Sample Data"}),(0,D.jsx)(d.A,{variant:"outlined",color:"warning",onClick:()=>{if(window.confirm("Are you sure you want to clear ALL system data? This action cannot be undone!")&&window.confirm("This will delete all users, loans, and payments. Type 'DELETE' to confirm:")&&"DELETE"===window.prompt("Type DELETE to confirm:"))try{h.A.clearAllData(),R("All system data cleared","warning"),k()}catch(e){R("Error clearing data","error")}},startIcon:(0,D.jsx)(J.A,{children:"delete_sweep"}),children:"Clear All Data"}),(0,D.jsx)(d.A,{variant:"outlined",color:"error",onClick:()=>{if(window.confirm("Reset system to defaults? This will clear all data and reset settings.")&&"RESET"===window.prompt("Type RESET to confirm:"))try{h.A.clearAllData(),localStorage.removeItem("adminSettings"),t({systemName:"DriveCash Lending Platform",maxLoanAmount:5e4,minLoanAmount:1e3,defaultInterestRate:12.5,maxLoanTerm:60,minCreditScore:600,autoApprovalThreshold:750,enableNotifications:!0,enableAuditLog:!0,maintenanceMode:!1,dataRetentionDays:365}),R("System reset to defaults","info"),k()}catch(e){R("Error resetting system","error")}},startIcon:(0,D.jsx)(J.A,{children:"refresh"}),children:"Reset System"})]})]})})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:8,children:(0,D.jsx)(i.A,{children:(0,D.jsxs)(o.A,{p:3,children:[(0,D.jsxs)(o.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,D.jsx)(c.A,{variant:"h6",children:"System Settings"}),(0,D.jsx)(d.A,{variant:"contained",onClick:()=>{try{h.A.setSettings(e),R("Settings saved successfully")}catch(t){R("Error saving settings","error")}},children:"Save Settings"})]}),(0,D.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(c.A,{variant:"subtitle2",mb:2,children:"Basic Configuration"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"System Name",value:e.systemName,onChange:e=>I("systemName",e.target.value)})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Data Retention (days)",type:"number",value:e.dataRetentionDays,onChange:e=>I("dataRetentionDays",parseInt(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(M.A,{})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(c.A,{variant:"subtitle2",mb:2,children:"Loan Configuration"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Maximum Loan Amount ($)",type:"number",value:e.maxLoanAmount,onChange:e=>I("maxLoanAmount",parseFloat(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Minimum Loan Amount ($)",type:"number",value:e.minLoanAmount,onChange:e=>I("minLoanAmount",parseFloat(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Default Interest Rate (%)",type:"number",step:"0.1",value:e.defaultInterestRate,onChange:e=>I("defaultInterestRate",parseFloat(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Maximum Term (months)",type:"number",value:e.maxLoanTerm,onChange:e=>I("maxLoanTerm",parseInt(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Minimum Credit Score",type:"number",value:e.minCreditScore,onChange:e=>I("minCreditScore",parseInt(e.target.value))})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(m.RL,{fullWidth:!0,label:"Auto-Approval Credit Score Threshold",type:"number",value:e.autoApprovalThreshold,onChange:e=>I("autoApprovalThreshold",parseInt(e.target.value)),helperText:"Loans for users with this credit score or higher will be auto-approved"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(M.A,{})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(c.A,{variant:"subtitle2",mb:2,children:"System Controls"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(P,{control:(0,D.jsx)(u.A,{checked:e.enableNotifications,onChange:e=>I("enableNotifications",e.target.checked)}),label:"Enable Notifications"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(P,{control:(0,D.jsx)(u.A,{checked:e.enableAuditLog,onChange:e=>I("enableAuditLog",e.target.checked)}),label:"Enable Audit Logging"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(P,{control:(0,D.jsx)(u.A,{checked:e.maintenanceMode,onChange:e=>I("maintenanceMode",e.target.checked),color:"warning"}),label:"Maintenance Mode"})})]})]})})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,D.jsx)(i.A,{children:(0,D.jsxs)(o.A,{p:3,children:[(0,D.jsx)(c.A,{variant:"h6",mb:2,children:"Data Management"}),f>0&&(0,D.jsxs)(o.A,{mb:2,children:[(0,D.jsxs)(c.A,{variant:"caption",children:["Exporting... ",f,"%"]}),(0,D.jsx)(F.A,{variant:"determinate",value:f})]}),(0,D.jsxs)(o.A,{display:"flex",flexDirection:"column",gap:2,children:[(0,D.jsx)(d.A,{variant:"contained",color:"info",onClick:async()=>{try{C(0);const e=setInterval(()=>{C(t=>t>=100?(clearInterval(e),100):t+10)},200);setTimeout(()=>{h.A.exportData("all"),R("Complete system data exported successfully"),C(0)},2e3)}catch(e){R("Error exporting data","error"),C(0)}},disabled:f>0,startIcon:(0,D.jsx)(J.A,{children:"download"}),children:"Export All Data"}),(0,D.jsx)(d.A,{variant:"outlined",color:"success",onClick:()=>v(!0),startIcon:(0,D.jsx)(J.A,{children:"upload"}),children:"Import Data"}),(0,D.jsx)(d.A,{variant:"outlined",onClick:()=>h.A.exportCSV("all"),startIcon:(0,D.jsx)(J.A,{children:"table_chart"}),children:"Export CSV Reports"})]}),(0,D.jsxs)(o.A,{mt:3,children:[(0,D.jsx)(c.A,{variant:"subtitle2",mb:1,children:"Storage Usage"}),(0,D.jsxs)(c.A,{variant:"caption",color:"text",children:["Current: ",a.dataSize]}),(0,D.jsx)(F.A,{variant:"determinate",value:Math.min((a.totalUsers+a.totalLoans+a.totalPayments)/10,100),sx:{mt:1}})]})]})})})]}),(0,D.jsxs)(_.A,{open:y,onClose:()=>g(!1),fullWidth:!0,maxWidth:"md",children:[(0,D.jsx)(q.A,{children:"Audit Logs"}),(0,D.jsx)(U.A,{children:(0,D.jsx)(B.A,{children:p.map((e,t)=>(0,D.jsxs)(V.Ay,{children:[(0,D.jsx)(G.A,{primary:e.action,secondary:"".concat(e.user," - ").concat(new Date(e.timestamp).toLocaleString())}),(0,D.jsx)(H.A,{children:(0,D.jsx)(O.A,{label:e.type,size:"small"})})]},t))})}),(0,D.jsx)(z.A,{children:(0,D.jsx)(d.A,{onClick:()=>g(!1),children:"Close"})})]}),(0,D.jsxs)(_.A,{open:b,onClose:()=>v(!1),maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(q.A,{children:"Import Data"}),(0,D.jsx)(U.A,{children:(0,D.jsxs)(o.A,{p:2,children:[(0,D.jsx)(c.A,{variant:"body2",mb:2,children:"Select a JSON file to import. The data will be merged with existing records."}),(0,D.jsx)("input",{type:"file",accept:".json",onChange:e=>(async e=>{if(e)try{S(!0);const t=new FileReader;t.onload=e=>{try{var t,a,n;const r=JSON.parse(e.target.result);h.A.importData(r,"merge"),R("Data imported successfully. ".concat((null===(t=r.users)||void 0===t?void 0:t.length)||0," users, ").concat((null===(a=r.loans)||void 0===a?void 0:a.length)||0," loans, ").concat((null===(n=r.payments)||void 0===n?void 0:n.length)||0," payments.")),v(!1),k()}catch(r){R("Error parsing import file","error")}finally{S(!1)}},t.readAsText(e)}catch(t){R("Error importing data","error"),S(!1)}})(e.target.files[0]),style:{display:"none"},id:"import-file"}),(0,D.jsx)("label",{htmlFor:"import-file",children:(0,D.jsx)(d.A,{variant:"outlined",component:"span",disabled:L,startIcon:(0,D.jsx)(J.A,{children:"upload_file"}),children:L?"Importing...":"Choose File"})})]})}),(0,D.jsx)(z.A,{children:(0,D.jsx)(d.A,{onClick:()=>v(!1),children:"Cancel"})})]}),(0,D.jsx)(N.A,{open:w.open,autoHideDuration:4e3,onClose:()=>T((0,n.A)((0,n.A)({},w),{},{open:!1})),children:(0,D.jsx)(W.A,{severity:w.severity,onClose:()=>T((0,n.A)((0,n.A)({},w),{},{open:!1})),children:w.message})})]})]})}}}]);
//# sourceMappingURL=243.41671b5b.chunk.js.map