"use strict";(self.webpackChunkmaterial_dashboard_2_react=self.webpackChunkmaterial_dashboard_2_react||[]).push([[496],{5496:(a,e,t)=>{t.r(e),t.d(e,{approveLoan:()=>d,default:()=>p,denyLoan:()=>m,getAnalytics:()=>_,getAuditLogs:()=>l,getLoans:()=>r,getUsers:()=>s,logAdminAction:()=>A,refundPayment:()=>u,updateUser:()=>c});var n=t(9379);const o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:8000/api",REACT_APP_AUTH_TOKEN_KEY:"accessToken",REACT_APP_DEBUG:"true",REACT_APP_ENABLE_API_FALLBACK:"true",REACT_APP_ENABLE_PROFILE_POLLING:"true",REACT_APP_ENABLE_REAL_TIME:"true",REACT_APP_ENABLE_STATIC_FALLBACK:"true",REACT_APP_LOG_LEVEL:"debug",REACT_APP_POLLING_INTERVAL:"30000",REACT_APP_REFRESH_TOKEN_KEY:"refreshToken"}.REACT_APP_API_BASE||"";async function i(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=o+a;try{const a=await fetch(t,e);if(!a.ok)throw new Error("API ".concat(t," returned ").concat(a.status));return await a.json()}catch(n){return console.warn("adminApi safeFetch failed, falling back to mock:",n.message),null}}async function s(){let{page:a=1,pageSize:e=10,query:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o="?page=".concat(a,"&pageSize=").concat(e,"&q=").concat(encodeURIComponent(t)),s=await i("/api/admin/users"+o);if(s)return s;const c=[{id:"user_001",name:"John Doe",email:"john.doe@email.com",status:"active"},{id:"user_002",name:"Jane Smith",email:"jane.smith@email.com",status:"suspended"},{id:"user_003",name:"Alice Park",email:"alice.park@email.com",status:"active"},{id:"user_004",name:"Bob Lee",email:"bob.lee@email.com",status:"active"},{id:"user_005",name:"Carla Gomez",email:"carla.gomez@email.com",status:"active"}],r=Array.from({length:45}).map((a,e)=>c[e%c.length]).map((a,e)=>(0,n.A)((0,n.A)({},a),{},{id:"user_".concat(100+e),name:"".concat(a.name," ").concat(e)})),d=(t||"").toLowerCase(),m=d?r.filter(a=>(a.name||"").toLowerCase().includes(d)||(a.email||"").toLowerCase().includes(d)||(a.id||"").toLowerCase().includes(d)):r,u=m.length,_=(a-1)*e;return{items:m.slice(_,_+e),total:u}}async function c(a,e){const t=await i("/api/admin/users/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t||(0,n.A)({id:a},e)}async function r(){const a=await i("/api/admin/loans");return a||[]}async function d(a){const e=await i("/api/admin/loans/".concat(a,"/approve"),{method:"POST"});return e||{id:a,status:"approved"}}async function m(a,e){const t=await i("/api/admin/loans/".concat(a,"/deny"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:e})});return t||{id:a,status:"denied",reason:e}}async function u(a,e){const t=await i("/api/admin/payments/".concat(a,"/refund"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e})});return t||{paymentId:a,refunded:!0,amount:e}}async function _(){const a=await i("/api/admin/analytics");return a||{totalUsers:1240,activeLoans:320,monthlyPayments:45230,revenue:1234500,paymentsByDay:Array.from({length:30},(a,e)=>({date:"2025-08-".concat(e+1),amount:Math.floor(5e3*Math.random())}))}}async function l(){const a=await i("/api/admin/audit");return a||[{id:"log_001",time:(new Date).toISOString(),admin:"admin_1",action:"approve_loan",details:"loan_101"},{id:"log_002",time:(new Date).toISOString(),admin:"admin_2",action:"refund_payment",details:"payment_202"}]}async function A(a){const e=await i("/api/admin/audit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return e||(0,n.A)({id:"log_".concat(Date.now())},a)}const p={getUsers:s,updateUser:c,getLoans:r,approveLoan:d,denyLoan:m,refundPayment:u,getAnalytics:_,getAuditLogs:l,logAdminAction:A}}}]);
//# sourceMappingURL=496.c199f601.chunk.js.map