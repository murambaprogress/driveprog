{"version":3,"file":"static/js/701.00e12f55.chunk.js","mappings":"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","sources":["services/adminLoansApi.js","../node_modules/@mui/material/CardMedia/cardMediaClasses.js","../node_modules/@mui/material/CardMedia/CardMedia.js","components/admin/LoanReviewModal.js","layouts/admin/loansEnhanced.js","components/EnhancedTable.js"],"sourcesContent":["import { fetchLoans as fetchLoansApi } from \"loanApp/api/loans\";\r\nimport { apiClient } from \"utils/apiClient\";\r\n\r\nconst toNumber = (value) => {\r\n  if (value === null || value === undefined) return null;\r\n  const num = Number(value);\r\n  return Number.isNaN(num) ? null : num;\r\n};\r\n\r\nconst toInteger = (value) => {\r\n  if (value === null || value === undefined) return null;\r\n  const int = parseInt(value, 10);\r\n  return Number.isNaN(int) ? null : int;\r\n};\r\n\r\nconst pickApplicationDate = (loan) => loan?.submitted_at || loan?.created_at || loan?.updated_at || null;\r\n\r\nconst deriveInterestRate = (loan) => {\r\n  const aiRate = loan?.ai_analysis_data?.loan_assessment?.interest_rate ?? loan?.ai_analysis_data?.interest_rate;\r\n  if (aiRate !== null && aiRate !== undefined) {\r\n    const numeric = Number(aiRate);\r\n    if (!Number.isNaN(numeric)) {\r\n      return numeric;\r\n    }\r\n  }\r\n\r\n  if (loan?.interest_rate !== null && loan?.interest_rate !== undefined) {\r\n    const numeric = Number(loan.interest_rate);\r\n    if (!Number.isNaN(numeric)) {\r\n      return numeric;\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst buildBorrowerName = (loan) => {\r\n  if (loan?.full_name) {\r\n    return loan.full_name;\r\n  }\r\n\r\n  const first = loan?.first_name || loan?.personal_info?.first_name || \"\";\r\n  const last = loan?.last_name || loan?.personal_info?.last_name || \"\";\r\n  const name = `${first} ${last}`.trim();\r\n  return name || \"Applicant\";\r\n};\r\n\r\nconst normalizeLoan = (loan) => {\r\n  const normalizedStatus = (loan?.status || \"draft\").toLowerCase();\r\n\r\n  return {\r\n    id: loan?.id,\r\n    applicationId: loan?.application_id,\r\n    borrowerName: buildBorrowerName(loan),\r\n    email: loan?.email || loan?.personal_info?.email || \"\",\r\n    phone: loan?.phone || loan?.personal_info?.phone || \"\",\r\n    amount: toNumber(loan?.amount) ?? 0,\r\n    interestRate: deriveInterestRate(loan),\r\n    term: toInteger(loan?.term) ?? null,\r\n    status: normalizedStatus,\r\n    applicationDate: pickApplicationDate(loan),\r\n    createdAt: loan?.created_at || null,\r\n    raw: loan,\r\n  };\r\n};\r\n\r\nexport async function fetchAdminLoans() {\r\n  const response = await fetchLoansApi();\r\n\r\n  let records = [];\r\n  if (Array.isArray(response)) {\r\n    records = response;\r\n  } else if (Array.isArray(response?.results)) {\r\n    records = response.results;\r\n  } else if (Array.isArray(response?.applications)) {\r\n    records = response.applications;\r\n  } else if (Array.isArray(response?.data)) {\r\n    records = response.data;\r\n  }\r\n\r\n  return records.map(normalizeLoan);\r\n}\r\n\r\nexport async function approveAdminLoan(id, { approvedAmount, approvalNotes } = {}) {\r\n  const payload = {\r\n    approved_amount: Number(approvedAmount ?? 0),\r\n    approval_notes: approvalNotes ?? \"\",\r\n  };\r\n\r\n  try {\r\n    const response = await apiClient.post(`/loans/applications/${id}/approve/`, payload);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle specific error cases\r\n    if (error.response?.status === 400) {\r\n      const errorMessage = error.response?.data?.error || 'Cannot approve this application';\r\n      throw new Error(errorMessage);\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function rejectAdminLoan(id, { reason } = {}) {\r\n  try {\r\n    const response = await apiClient.post(`/loans/applications/${id}/reject/`, {\r\n      notes: reason ?? \"\",\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    // Handle specific error cases\r\n    if (error.response?.status === 400) {\r\n      const errorMessage = error.response?.data?.error || 'Cannot reject this application';\r\n      throw new Error(errorMessage);\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function raiseAdminLoanQuery(id, { message } = {}) {\r\n  try {\r\n    const response = await apiClient.post(`/loans/applications/${id}/raise_query/`, {\r\n      notes: message ?? \"\",\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    // Handle specific error cases\r\n    if (error.response?.status === 400) {\r\n      const errorMessage = error.response?.data?.error || 'Cannot raise query for this application';\r\n      throw new Error(errorMessage);\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const formatStatusLabel = (status) => {\r\n  if (!status) return \"--\";\r\n  return status\r\n    .toString()\r\n    .replace(/_/g, \" \")\r\n    .replace(/\\b\\w/g, (char) => char.toUpperCase());\r\n};\r\n\r\n// Helper function to check if actions are allowed based on application status\r\nexport const getActionPermissions = (status) => {\r\n  const normalizedStatus = status?.toLowerCase();\r\n  \r\n  return {\r\n    canApprove: ['pending', 'under_review'].includes(normalizedStatus),\r\n    canReject: ['pending', 'under_review'].includes(normalizedStatus),\r\n    canQuery: normalizedStatus === 'pending',\r\n    canWithdraw: ['pending', 'under_review'].includes(normalizedStatus),\r\n    statusMessage: getStatusActionMessage(normalizedStatus)\r\n  };\r\n};\r\n\r\nconst getStatusActionMessage = (status) => {\r\n  switch (status) {\r\n    case 'draft':\r\n      return 'Draft applications cannot be processed';\r\n    case 'approved':\r\n      return 'Application already approved';\r\n    case 'rejected':\r\n      return 'Application already rejected';\r\n    case 'withdrawn':\r\n      return 'Application already withdrawn';\r\n    case 'pending':\r\n      return 'All actions available';\r\n    case 'under_review':\r\n      return 'Can approve or reject';\r\n    default:\r\n      return 'Unknown status';\r\n  }\r\n};\r\n","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  //  object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n  const {\n      children,\n      className,\n      component = 'div',\n      image,\n      src,\n      style\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n    return null;\n  }),\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import React, { useState } from \"react\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport MDBox from \"components/MDBox\";\r\nimport MDTypography from \"components/MDTypography\";\r\nimport MDButton from \"components/MDButton\";\r\nimport { VhoozhtInput, VhoozhtTextarea, VhoozhtSelect } from \"components/VhoozhtForms\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardMedia from \"@mui/material/CardMedia\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Icon from \"@mui/material/Icon\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Tabs from \"@mui/material/Tabs\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { alpha } from \"@mui/material/styles\";\r\nimport Divider from \"@mui/material/Divider\";\r\n\r\n// Image Modal for full-size viewing\r\nconst ImageModal = ({ open, onClose, imageSrc, title }) => {\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" fullWidth>\r\n      <DialogTitle>\r\n        <MDBox display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <MDTypography variant=\"h6\">{title}</MDTypography>\r\n          <IconButton onClick={onClose} size=\"small\">\r\n            <Icon>close</Icon>\r\n          </IconButton>\r\n        </MDBox>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <MDBox display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <img\r\n            src={imageSrc}\r\n            alt={title}\r\n            style={{\r\n              maxWidth: \"100%\",\r\n              maxHeight: \"80vh\",\r\n              objectFit: \"contain\",\r\n            }}\r\n          />\r\n        </MDBox>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// Tab Panel Component\r\nconst TabPanel = ({ children, value, index }) => {\r\n  return (\r\n    <div role=\"tabpanel\" hidden={value !== index}>\r\n      {value === index && <MDBox py={3}>{children}</MDBox>}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst LoanReviewModal = ({ open, onClose, loan, onApprove, onDecline, onQuery }) => {\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [action, setAction] = useState(\"\"); // 'approve', 'decline', 'query'\r\n  const [reason, setReason] = useState(\"\");\r\n  const [notes, setNotes] = useState(\"\");\r\n  const [approvedAmount, setApprovedAmount] = useState(\"\");\r\n  const [imageModalOpen, setImageModalOpen] = useState(false);\r\n  const [selectedImage, setSelectedImage] = useState({ src: \"\", title: \"\" });\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setActiveTab(newValue);\r\n  };\r\n\r\n  const handleImageClick = (src, title) => {\r\n    setSelectedImage({ src, title });\r\n    setImageModalOpen(true);\r\n  };\r\n\r\n  const handleAction = async () => {\r\n    if (action === \"approve\") {\r\n      await onApprove(loan.id, {\r\n        approvedAmount: approvedAmount || loan.amount,\r\n        approvalNotes: notes,\r\n      });\r\n    } else if (action === \"decline\") {\r\n      if (!reason.trim()) {\r\n        alert(\"Please provide a reason for declining\");\r\n        return;\r\n      }\r\n      await onDecline(loan.id, { reason });\r\n    } else if (action === \"query\") {\r\n      if (!notes.trim()) {\r\n        alert(\"Please provide a query message\");\r\n        return;\r\n      }\r\n      await onQuery(loan.id, { notes: notes });\r\n    }\r\n    \r\n    // Reset form\r\n    setAction(\"\");\r\n    setReason(\"\");\r\n    setNotes(\"\");\r\n    setApprovedAmount(\"\");\r\n    onClose();\r\n  };\r\n\r\n  if (!loan) return null;\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      approved: \"success\",\r\n      rejected: \"error\",\r\n      pending: \"warning\",\r\n      under_review: \"info\",\r\n      draft: \"secondary\",\r\n    };\r\n    return colors[status] || \"primary\";\r\n  };\r\n\r\n  // Collect all documents - both file fields and document objects\r\n  const photos = [];\r\n  \r\n  // Add photo fields\r\n  const photoFields = [\r\n    { field: \"photo_vin_sticker\", title: \"VIN Sticker\" },\r\n    { field: \"photo_odometer\", title: \"Odometer\" },\r\n    { field: \"photo_borrower\", title: \"Borrower ID\" },\r\n    { field: \"photo_front_car\", title: \"Vehicle Front\" },\r\n    { field: \"photo_vin\", title: \"VIN Plate\" },\r\n    { field: \"photo_license\", title: \"Driver's License\" },\r\n    { field: \"photo_insurance\", title: \"Insurance\" },\r\n  ];\r\n  \r\n  photoFields.forEach(({ field, title }) => {\r\n    const src = loan[field];\r\n    if (src) {\r\n      photos.push({\r\n        id: `${loan.id}_${field}`,\r\n        title,\r\n        src,\r\n        field,\r\n        type: 'photo_field'\r\n      });\r\n    }\r\n  });\r\n  \r\n  // Add documents from documents array\r\n  if (loan.documents && Array.isArray(loan.documents)) {\r\n    loan.documents.forEach(doc => {\r\n      photos.push({\r\n        id: doc.id,\r\n        title: doc.title || doc.document_type,\r\n        src: doc.file || doc.url,\r\n        field: doc.document_type,\r\n        type: 'document',\r\n        description: doc.description,\r\n        uploaded_at: doc.uploaded_at,\r\n        is_analyzed: doc.is_analyzed\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onClose={onClose} maxWidth=\"lg\" fullWidth>\r\n        <DialogTitle>\r\n          <MDBox display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <MDBox>\r\n              <MDTypography variant=\"h5\">Loan Application Review</MDTypography>\r\n              <MDTypography variant=\"caption\" color=\"text\">\r\n                Application ID: {loan.applicationId || loan.application_id || loan.id}\r\n              </MDTypography>\r\n            </MDBox>\r\n            <Chip\r\n              label={loan.status}\r\n              color={getStatusColor(loan.status)}\r\n              size=\"small\"\r\n              sx={{ textTransform: \"capitalize\" }}\r\n            />\r\n          </MDBox>\r\n        </DialogTitle>\r\n\r\n        <DialogContent>\r\n          <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n            <Tabs value={activeTab} onChange={handleTabChange}>\r\n              <Tab label=\"Application Details\" />\r\n              <Tab label=\"Submitted Photos\" />\r\n              <Tab label=\"AI Analysis\" />\r\n              <Tab label=\"Actions\" />\r\n            </Tabs>\r\n          </Box>\r\n\r\n          {/* Tab 1: Application Details */}\r\n          <TabPanel value={activeTab} index={0}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <Card sx={{ p: 2, height: \"100%\" }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Personal Information\r\n                  </MDTypography>\r\n                  <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Name:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.borrowerName || loan.full_name || `${loan.first_name || \"\"} ${loan.last_name || \"\"}`.trim() || \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Email:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.email || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Phone:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.phone || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        DOB:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.dob || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        SSN:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.social_security ? \"***-**-\" + loan.social_security.slice(-4) : \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        ID Type:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.identification_type || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        ID Number:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.identification_no || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Bank Name:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.banks_name || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                  </MDBox>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Card sx={{ p: 2, height: \"100%\" }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Loan Details\r\n                  </MDTypography>\r\n                  <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Amount Requested:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\" color=\"success\">\r\n                        ${Number(loan.amount || 0).toLocaleString()}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Term:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.term} months</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Interest Rate:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.interestRate || 0}%</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Application Date:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.applicationDate || loan.created_at}</MDTypography>\r\n                    </MDBox>\r\n                  </MDBox>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Card sx={{ p: 2, height: \"100%\" }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Vehicle Information\r\n                  </MDTypography>\r\n                  <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Make/Model:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.vehicle_make || loan.vehicleMake} {loan.vehicle_model || loan.vehicleModel}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Year:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.vehicle_year || loan.vehicleYear}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        VIN:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.vehicle_vin || loan.vehicleVin}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Mileage:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {Number(loan.vehicle_mileage || loan.vehicleMileage || 0).toLocaleString()} mi\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Estimated Value:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\" color=\"info\">\r\n                        ${Number(loan.applicant_estimated_value || 0).toLocaleString()}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                  </MDBox>\r\n                </Card>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Card sx={{ p: 2, height: \"100%\" }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Financial Information\r\n                  </MDTypography>\r\n                  <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Employment Status:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\" sx={{ textTransform: \"capitalize\" }}>\r\n                        {loan.employment_status || \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Income Source:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.income_source || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Annual Income:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.income ? `$${Number(loan.income).toLocaleString()}` : \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Monthly Income:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.gross_monthly_income ? `$${Number(loan.gross_monthly_income).toLocaleString()}` : \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Employment Length:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">\r\n                        {loan.employment_length ? `${loan.employment_length} years` : \"N/A\"}\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Pay Frequency:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.pay_frequency || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Credit Score:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.credit_score || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Active Bankruptcy:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.active_bankruptcy || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Direct Deposit:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.direct_deposit || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Military Status:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.military_status || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                  </MDBox>\r\n                </Card>\r\n              </Grid>\r\n\r\n              {/* Address Information */}\r\n              <Grid item xs={12} md={6}>\r\n                <Card sx={{ p: 2, height: \"100%\" }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Address Information\r\n                  </MDTypography>\r\n                  <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        Street:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.street || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        City:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.city || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        State:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.state || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                    <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                      <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                        ZIP Code:\r\n                      </MDTypography>\r\n                      <MDTypography variant=\"button\">{loan.zip_code || \"N/A\"}</MDTypography>\r\n                    </MDBox>\r\n                  </MDBox>\r\n                </Card>\r\n              </Grid>\r\n\r\n              {/* Co-Applicant Information (if available) */}\r\n              {(loan.co_applicant_first_name || loan.co_applicant_name) && (\r\n                <Grid item xs={12} md={6}>\r\n                  <Card sx={{ p: 2, height: \"100%\" }}>\r\n                    <MDTypography variant=\"h6\" mb={2}>\r\n                      Co-Applicant Information\r\n                    </MDTypography>\r\n                    <MDBox display=\"flex\" flexDirection=\"column\" gap={1}>\r\n                      <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                          Name:\r\n                        </MDTypography>\r\n                        <MDTypography variant=\"button\">\r\n                          {loan.co_applicant_name || `${loan.co_applicant_first_name || \"\"} ${loan.co_applicant_last_name || \"\"}`.trim() || \"N/A\"}\r\n                        </MDTypography>\r\n                      </MDBox>\r\n                      <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                          Email:\r\n                        </MDTypography>\r\n                        <MDTypography variant=\"button\">{loan.co_applicant_email || \"N/A\"}</MDTypography>\r\n                      </MDBox>\r\n                      <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                          Phone:\r\n                        </MDTypography>\r\n                        <MDTypography variant=\"button\">{loan.co_applicant_phone || \"N/A\"}</MDTypography>\r\n                      </MDBox>\r\n                      <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                          SSN:\r\n                        </MDTypography>\r\n                        <MDTypography variant=\"button\">\r\n                          {loan.co_applicant_ssn ? \"***-**-\" + loan.co_applicant_ssn.slice(-4) : \"N/A\"}\r\n                        </MDTypography>\r\n                      </MDBox>\r\n                    </MDBox>\r\n                  </Card>\r\n                </Grid>\r\n              )}\r\n\r\n            {/* Additional Dynamic Fields */}\r\n            {loan.additional_data && Object.keys(loan.additional_data).length > 0 && (\r\n              <Grid item xs={12}>\r\n                <Card sx={{ p: 2 }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    Additional Information\r\n                  </MDTypography>\r\n                  <Grid container spacing={2}>\r\n                    {Object.entries(loan.additional_data).map(([key, value]) => {\r\n                      const displayKey = key.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').trim();\r\n                      const capitalizedKey = displayKey.charAt(0).toUpperCase() + displayKey.slice(1);\r\n                      \r\n                      return (\r\n                        <Grid item xs={12} md={6} key={key}>\r\n                          <MDBox display=\"flex\" justifyContent=\"space-between\">\r\n                            <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                              {capitalizedKey}:\r\n                            </MDTypography>\r\n                            <MDTypography variant=\"button\">\r\n                              {typeof value === 'object' ? JSON.stringify(value) : String(value) || \"N/A\"}\r\n                            </MDTypography>\r\n                          </MDBox>\r\n                        </Grid>\r\n                      );\r\n                    })}\r\n                  </Grid>\r\n                </Card>\r\n              </Grid>\r\n            )}\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* Tab 2: Submitted Photos */}\r\n          <TabPanel value={activeTab} index={1}>\r\n            {photos.length > 0 ? (\r\n              <Grid container spacing={2}>\r\n                {photos.map((photo, index) => (\r\n                  <Grid item xs={12} sm={6} md={4} key={index}>\r\n                    <Card\r\n                      sx={{\r\n                        cursor: \"pointer\",\r\n                        transition: \"transform 0.2s\",\r\n                        \"&:hover\": {\r\n                          transform: \"scale(1.02)\",\r\n                          boxShadow: 3,\r\n                        },\r\n                      }}\r\n                      onClick={() => handleImageClick(photo.src, photo.title)}\r\n                    >\r\n                      <CardMedia\r\n                        component=\"img\"\r\n                        height=\"200\"\r\n                        image={photo.src}\r\n                        alt={photo.title}\r\n                        sx={{ objectFit: \"cover\" }}\r\n                      />\r\n                      <MDBox p={2}>\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                          {photo.title}\r\n                        </MDTypography>\r\n                        {photo.type === 'document' && (\r\n                          <>\r\n                            {photo.description && (\r\n                              <MDTypography variant=\"caption\" color=\"text\" display=\"block\">\r\n                                {photo.description}\r\n                              </MDTypography>\r\n                            )}\r\n                            {photo.uploaded_at && (\r\n                              <MDTypography variant=\"caption\" color=\"text\" display=\"block\">\r\n                                Uploaded: {new Date(photo.uploaded_at).toLocaleDateString()}\r\n                              </MDTypography>\r\n                            )}\r\n                            {photo.is_analyzed && (\r\n                              <Chip\r\n                                label=\"AI Analyzed\"\r\n                                size=\"small\"\r\n                                color=\"success\"\r\n                                sx={{ mt: 0.5 }}\r\n                              />\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      </MDBox>\r\n                    </Card>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            ) : (\r\n              <MDBox textAlign=\"center\" py={5}>\r\n                <Icon fontSize=\"large\" color=\"disabled\">\r\n                  image_not_supported\r\n                </Icon>\r\n                <MDTypography variant=\"h6\" color=\"text\" mt={2}>\r\n                  No photos submitted\r\n                </MDTypography>\r\n              </MDBox>\r\n            )}\r\n          </TabPanel>\r\n\r\n          {/* Tab 3: AI Analysis */}\r\n          <TabPanel value={activeTab} index={2}>\r\n            <Grid container spacing={3}>\r\n              {/* Vehicle Valuation Analysis */}\r\n              <Grid item xs={12}>\r\n                <Card sx={{ p: 3 }}>\r\n                  <MDTypography variant=\"h6\" mb={2}>\r\n                    AI Vehicle Valuation & Risk Assessment\r\n                  </MDTypography>\r\n                  {loan.ai_estimated_value || loan.ai_analysis_data ? (\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} md={4}>\r\n                        <MDBox display=\"flex\" justifyContent=\"space-between\" mb={1}>\r\n                          <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                            AI Estimated Value:\r\n                          </MDTypography>\r\n                          <MDTypography variant=\"button\" color=\"success\">\r\n                            ${Number(loan.ai_estimated_value || 0).toLocaleString()}\r\n                          </MDTypography>\r\n                        </MDBox>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={4}>\r\n                        <MDBox display=\"flex\" justifyContent=\"space-between\" mb={1}>\r\n                          <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                            Applicant Estimate:\r\n                          </MDTypography>\r\n                          <MDTypography variant=\"button\">\r\n                            ${Number(loan.applicant_estimated_value || 0).toLocaleString()}\r\n                          </MDTypography>\r\n                        </MDBox>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={4}>\r\n                        <MDBox display=\"flex\" justifyContent=\"space-between\" mb={1}>\r\n                          <MDTypography variant=\"button\" fontWeight=\"medium\">\r\n                            Loan Amount:\r\n                          </MDTypography>\r\n                          <MDTypography variant=\"button\">\r\n                            ${Number(loan.amount || 0).toLocaleString()}\r\n                          </MDTypography>\r\n                        </MDBox>\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Divider />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6}>\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\" mb={1} display=\"block\">\r\n                          Risk Assessment:\r\n                        </MDTypography>\r\n                        <Chip\r\n                          label={loan.ai_risk_assessment || \"N/A\"}\r\n                          color={\r\n                            loan.ai_risk_assessment === \"low\"\r\n                              ? \"success\"\r\n                              : loan.ai_risk_assessment === \"high\" || loan.ai_risk_assessment === \"very_high\"\r\n                              ? \"error\"\r\n                              : \"warning\"\r\n                          }\r\n                          size=\"small\"\r\n                          sx={{ textTransform: \"capitalize\" }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6}>\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\" mb={1} display=\"block\">\r\n                          AI Approval Suggestion:\r\n                        </MDTypography>\r\n                        <Chip\r\n                          label={loan.ai_approval_suggestion || \"N/A\"}\r\n                          color={\r\n                            loan.ai_approval_suggestion === \"approve\"\r\n                              ? \"success\"\r\n                              : loan.ai_approval_suggestion === \"reject\"\r\n                              ? \"error\"\r\n                              : \"warning\"\r\n                          }\r\n                          size=\"small\"\r\n                          sx={{ textTransform: \"capitalize\" }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <MDTypography variant=\"button\" fontWeight=\"medium\" mb={1} display=\"block\">\r\n                          AI Recommendation:\r\n                        </MDTypography>\r\n                        <MDTypography variant=\"body2\" color=\"text\">\r\n                          {loan.ai_recommendation || \"No recommendation available\"}\r\n                        </MDTypography>\r\n                      </Grid>\r\n                      {loan.ai_analysis_timestamp && (\r\n                        <Grid item xs={12}>\r\n                          <MDTypography variant=\"caption\" color=\"text\">\r\n                            Analysis performed: {new Date(loan.ai_analysis_timestamp).toLocaleString()}\r\n                          </MDTypography>\r\n                        </Grid>\r\n                      )}\r\n                    </Grid>\r\n                  ) : (\r\n                    <MDBox textAlign=\"center\" py={3}>\r\n                      <Icon fontSize=\"large\" color=\"disabled\">\r\n                        psychology_alt\r\n                      </Icon>\r\n                      <MDTypography variant=\"body2\" color=\"text\" mt={2}>\r\n                        AI analysis not yet available\r\n                      </MDTypography>\r\n                    </MDBox>\r\n                  )}\r\n                </Card>\r\n              </Grid>\r\n\r\n              {/* Detailed AI Analysis Data */}\r\n              {loan.ai_analysis_data && (\r\n                <Grid item xs={12}>\r\n                  <Card sx={{ p: 3 }}>\r\n                    <MDTypography variant=\"h6\" mb={2}>\r\n                      Detailed Analysis Results\r\n                    </MDTypography>\r\n                    <MDBox sx={{ maxHeight: '300px', overflow: 'auto', bgcolor: '#f5f5f5', p: 2, borderRadius: 1 }}>\r\n                      <pre style={{ fontSize: '12px', margin: 0, whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>\r\n                        {JSON.stringify(loan.ai_analysis_data, null, 2)}\r\n                      </pre>\r\n                    </MDBox>\r\n                  </Card>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* Tab 4: Actions */}\r\n          <TabPanel value={activeTab} index={3}>\r\n            <Card sx={{ p: 3 }}>\r\n              <MDTypography variant=\"h6\" mb={3}>\r\n                Review Actions\r\n              </MDTypography>\r\n\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12}>\r\n                  <VhoozhtSelect\r\n                    label=\"Select Action\"\r\n                    value={action}\r\n                    onChange={(e) => setAction(e.target.value)}\r\n                    options={[\r\n                      { value: \"\", label: \"-- Choose an action --\" },\r\n                      { value: \"approve\", label: \"Approve Application\" },\r\n                      { value: \"decline\", label: \"Decline Application\" },\r\n                      { value: \"query\", label: \"Raise Query\" },\r\n                    ]}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n\r\n                {action === \"approve\" && (\r\n                  <>\r\n                    <Grid item xs={12} md={6}>\r\n                      <VhoozhtInput\r\n                        label=\"Approved Amount ($)\"\r\n                        type=\"number\"\r\n                        value={approvedAmount}\r\n                        onChange={(e) => setApprovedAmount(e.target.value)}\r\n                        placeholder={`Requested: $${loan.amount}`}\r\n                        fullWidth\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <VhoozhtTextarea\r\n                        label=\"Approval Notes (Optional)\"\r\n                        value={notes}\r\n                        onChange={(e) => setNotes(e.target.value)}\r\n                        rows={4}\r\n                        placeholder=\"Enter any notes for the borrower...\"\r\n                        fullWidth\r\n                      />\r\n                    </Grid>\r\n                  </>\r\n                )}\r\n\r\n                {action === \"decline\" && (\r\n                  <Grid item xs={12}>\r\n                    <VhoozhtTextarea\r\n                      label=\"Reason for Declining *\"\r\n                      value={reason}\r\n                      onChange={(e) => setReason(e.target.value)}\r\n                      rows={4}\r\n                      placeholder=\"Please provide a clear reason for declining this application...\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                )}\r\n\r\n                {action === \"query\" && (\r\n                  <Grid item xs={12}>\r\n                    <VhoozhtTextarea\r\n                      label=\"Query Message *\"\r\n                      value={notes}\r\n                      onChange={(e) => setNotes(e.target.value)}\r\n                      rows={4}\r\n                      placeholder=\"E.g., 'The photos submitted are not clear. Please upload clearer images of the VIN and odometer.'\"\r\n                      fullWidth\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            </Card>\r\n          </TabPanel>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <MDButton onClick={onClose} variant=\"outlined\" color=\"secondary\">\r\n            Cancel\r\n          </MDButton>\r\n          {action && (\r\n            <MDButton onClick={handleAction} variant=\"gradient\" color={\r\n              action === \"approve\" ? \"success\" : action === \"decline\" ? \"error\" : \"warning\"\r\n            }>\r\n              {action === \"approve\" ? \"Approve Application\" :\r\n               action === \"decline\" ? \"Decline Application\" :\r\n               \"Send Query\"}\r\n            </MDButton>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Image Viewer Modal */}\r\n      <ImageModal\r\n        open={imageModalOpen}\r\n        onClose={() => setImageModalOpen(false)}\r\n        imageSrc={selectedImage.src}\r\n        title={selectedImage.title}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoanReviewModal;\r\n","import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\r\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\r\nimport Card from \"@mui/material/Card\";\r\nimport MDBox from \"components/MDBox\";\r\nimport MDTypography from \"components/MDTypography\";\r\nimport MDInput from \"components/MDInput\";\r\nimport MDButton from \"components/MDButton\";\r\nimport { VhoozhtInput, VhoozhtSelect, VhoozhtTextarea } from \"components/VhoozhtForms\";\r\nimport EnhancedTable from \"components/EnhancedTable\";\r\nimport { formatters } from \"utils/dataFormatters\";\r\nimport {\r\n  fetchAdminLoans,\r\n  approveAdminLoan,\r\n  rejectAdminLoan,\r\n  raiseAdminLoanQuery,\r\n  formatStatusLabel,\r\n  getActionPermissions,\r\n} from \"../../services/adminLoansApi\";\r\n\r\n// Import glowing icons CSS\r\nimport \"../../assets/css/glowing-icons.css\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\n// import TextField from \"@mui/material/TextField\"; // Replaced with VhoozhtInput\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\n// import Select from \"@mui/material/Select\"; // Replaced with VhoozhtSelect\r\n// import MenuItem from \"@mui/material/MenuItem\"; // Replaced with VhoozhtSelect options\r\n// import FormControl from \"@mui/material/FormControl\"; // Replaced with VhoozhtSelect\r\n// import InputLabel from \"@mui/material/InputLabel\"; // Replaced with VhoozhtSelect labels\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Icon from \"@mui/material/Icon\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport Pagination from \"@mui/material/Pagination\";\r\nimport { alpha } from \"@mui/material/styles\";\r\nimport ComplexStatisticsCard from \"examples/Cards/StatisticsCards/ComplexStatisticsCard\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport LoanReviewModal from \"components/admin/LoanReviewModal\";\r\n\r\nconst mapLoanForExport = (loan) => ({\r\n  id: loan.id,\r\n  applicationId: loan.applicationId,\r\n  borrowerName: loan.borrowerName,\r\n  email: loan.email,\r\n  phone: loan.phone,\r\n  amount: loan.amount,\r\n  interestRate: loan.interestRate,\r\n  term: loan.term,\r\n  status: formatStatusLabel(loan.status),\r\n  applicationDate: loan.applicationDate,\r\n});\r\n\r\nconst exportLoansToCsv = (filename, loans) => {\r\n  if (!loans.length) {\r\n    return;\r\n  }\r\n\r\n  const rows = loans.map(mapLoanForExport);\r\n  const headers = Object.keys(rows[0]);\r\n  const lines = [headers.join(\",\")];\r\n\r\n  rows.forEach((row) => {\r\n    const values = headers.map((header) => {\r\n      const raw = row[header];\r\n      if (raw === null || raw === undefined) {\r\n        return \"\";\r\n      }\r\n      const value = String(raw).replace(/\"/g, '\"\"');\r\n      return `\"${value}\"`;\r\n    });\r\n    lines.push(values.join(\",\"));\r\n  });\r\n\r\n  const blob = new Blob([lines.join(\"\\n\")], { type: \"text/csv;charset=utf-8;\" });\r\n  const link = document.createElement(\"a\");\r\n  link.href = URL.createObjectURL(blob);\r\n  link.setAttribute(\"download\", filename);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(link.href);\r\n};\r\n\r\nconst exportLoansToJson = (filename, loans) => {\r\n  const rows = loans.map(mapLoanForExport);\r\n  const blob = new Blob([JSON.stringify(rows, null, 2)], { type: \"application/json\" });\r\n  const link = document.createElement(\"a\");\r\n  link.href = URL.createObjectURL(blob);\r\n  link.setAttribute(\"download\", filename);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(link.href);\r\n};\r\n\r\n// Loan Edit Modal\r\nfunction LoanEditModal({ open, onClose, loan, onSave }) {\r\n  const [form, setForm] = useState({\r\n    amount: 0,\r\n    interestRate: 0,\r\n    term: 0,\r\n    status: \"\",\r\n    remainingBalance: 0,\r\n    monthlyPayment: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (loan) {\r\n      setForm({\r\n        amount: loan.amount || 0,\r\n        interestRate: loan.interestRate || 0,\r\n        term: loan.term || 0,\r\n        status: loan.status || \"\",\r\n        remainingBalance: loan.remainingBalance || 0,\r\n        monthlyPayment: loan.monthlyPayment || 0,\r\n      });\r\n    }\r\n  }, [loan]);\r\n\r\n  if (!loan) return null;\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"md\">\r\n      <DialogTitle>Edit Loan: {loan.id}</DialogTitle>\r\n      <DialogContent>\r\n        <Grid container spacing={2} sx={{ mt: 1 }}>\r\n          <Grid item xs={12} md={6}>\r\n            <VhoozhtInput\r\n              label=\"Loan Amount ($)\"\r\n              fullWidth\r\n              type=\"number\"\r\n              value={form.amount}\r\n              onChange={e => setForm(f => ({ ...f, amount: parseFloat(e.target.value) || 0 }))}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <VhoozhtInput\r\n              label=\"Interest Rate (%)\"\r\n              fullWidth\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={form.interestRate}\r\n              onChange={e => setForm(f => ({ ...f, interestRate: parseFloat(e.target.value) || 0 }))}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <VhoozhtInput\r\n              label=\"Term (months)\"\r\n              fullWidth\r\n              type=\"number\"\r\n              value={form.term}\r\n              onChange={e => setForm(f => ({ ...f, term: parseInt(e.target.value) || 0 }))}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <VhoozhtSelect\r\n              label=\"Status\"\r\n              fullWidth\r\n              value={form.status}\r\n              onChange={e => setForm(f => ({ ...f, status: e.target.value }))}\r\n              options={[\r\n                'draft',\r\n                'pending',\r\n                'under_review',\r\n                'approved',\r\n                'rejected',\r\n                'withdrawn',\r\n              ].map((statusValue) => ({\r\n                value: statusValue,\r\n                label: formatStatusLabel(statusValue),\r\n              }))}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <VhoozhtInput\r\n              label=\"Monthly Extension ($)\"\r\n              fullWidth\r\n              type=\"number\"\r\n              value={form.monthlyPayment}\r\n              onChange={e => setForm(f => ({ ...f, monthlyPayment: parseFloat(e.target.value) || 0 }))}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <VhoozhtInput\r\n              label=\"Remaining Balance ($)\"\r\n              fullWidth\r\n              type=\"number\"\r\n              value={form.remainingBalance}\r\n              onChange={e => setForm(f => ({ ...f, remainingBalance: parseFloat(e.target.value) || 0 }))}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <MDButton variant=\"outlined\" onClick={onClose}>Cancel</MDButton>\r\n        <MDButton variant=\"contained\" onClick={() => onSave({ ...loan, ...form })}>Save Changes</MDButton>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n// Bulk Loan Operations Modal\r\nfunction BulkLoanOperationsModal({ open, onClose, selectedLoans, onBulkAction }) {\r\n  const [operation, setOperation] = useState(\"approve\");\r\n  const [notes, setNotes] = useState(\"\");\r\n\r\n  const handleBulkAction = () => {\r\n    const loanIds = selectedLoans.map((loan) => loan.id);\r\n\r\n    switch (operation) {\r\n      case \"approve\":\r\n        onBulkAction(\"approve\", loanIds, { notes });\r\n        break;\r\n      case \"reject\":\r\n        onBulkAction(\"deny\", loanIds, { reason: notes });\r\n        break;\r\n      case \"flag\":\r\n        onBulkAction(\"flag\", loanIds, { notes });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setNotes(\"\");\r\n    setOperation(\"approve\");\r\n    onClose();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setNotes(\"\");\r\n    setOperation(\"approve\");\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>Bulk Loan Actions ({selectedLoans.length} loans)</DialogTitle>\r\n      <DialogContent>\r\n        <Grid container spacing={2} sx={{ mt: 1 }}>\r\n          <Grid item xs={12}>\r\n            <VhoozhtSelect\r\n              label=\"Action\"\r\n              fullWidth\r\n              value={operation}\r\n              onChange={(e) => setOperation(e.target.value)}\r\n              options={[\r\n                { value: \"approve\", label: \"Approve\" },\r\n                { value: \"reject\", label: \"Reject\" },\r\n                { value: \"flag\", label: \"Flag for Review\" },\r\n              ]}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            <VhoozhtTextarea\r\n              label=\"Notes\"\r\n              fullWidth\r\n              minRows={3}\r\n              value={notes}\r\n              onChange={(e) => setNotes(e.target.value)}\r\n              placeholder=\"Optional message shared with applicants\"\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <MDButton variant=\"outlined\" onClick={handleClose}>\r\n          Cancel\r\n        </MDButton>\r\n        <MDButton\r\n          variant=\"contained\"\r\n          onClick={handleBulkAction}\r\n          disabled={selectedLoans.length === 0}\r\n        >\r\n          Apply\r\n        </MDButton>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AdminLoans() {\r\n  const [allLoans, setAllLoans] = useState([]);\r\n  const [loans, setLoans] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // Search and filters\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"\");\r\n  const [dateFromFilter, setDateFromFilter] = useState(\"\");\r\n  const [dateToFilter, setDateToFilter] = useState(\"\");\r\n  const [amountMinFilter, setAmountMinFilter] = useState(\"\");\r\n  const [amountMaxFilter, setAmountMaxFilter] = useState(\"\");\r\n  \r\n  // Pagination and sorting\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [sortBy, setSortBy] = useState(\"applicationDate\");\r\n  const [sortOrder, setSortOrder] = useState(\"desc\");\r\n  \r\n  // Selection and modals\r\n  const [selectedLoans, setSelectedLoans] = useState([]);\r\n  const [selectAll, setSelectAll] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [editModalOpen, setEditModalOpen] = useState(false);\r\n  const [bulkModalOpen, setBulkModalOpen] = useState(false);\r\n  const [reviewLoan, setReviewLoan] = useState(null);\r\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\r\n  const [actionMenuAnchor, setActionMenuAnchor] = useState(null);\r\n  const [actionMenuLoan, setActionMenuLoan] = useState(null);\r\n  \r\n  // Notifications\r\n  const [notification, setNotification] = useState({ open: false, message: \"\", severity: \"success\" });\r\n\r\n  const showNotification = useCallback((message, severity = \"success\") => {\r\n    setNotification({ open: true, message, severity });\r\n  }, []);\r\n\r\n  const loadLoans = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const fetchedLoans = await fetchAdminLoans();\r\n      setAllLoans(fetchedLoans);\r\n      setSelectedLoans([]);\r\n      setSelectAll(false);\r\n    } catch (error) {\r\n      console.error(\"Error loading loans\", error);\r\n      showNotification(\"Error loading loans\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showNotification]);\r\n\r\n  useEffect(() => {\r\n    loadLoans();\r\n  }, [loadLoans]);\r\n\r\n  const filteredLoans = useMemo(() => {\r\n    let items = [...allLoans];\r\n\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      items = items.filter((loan) => {\r\n        const fields = [\r\n          loan.id,\r\n          loan.applicationId,\r\n          loan.borrowerName,\r\n          loan.email,\r\n          loan.phone,\r\n          loan.status,\r\n        ];\r\n        return fields.some((field) =>\r\n          field && field.toString().toLowerCase().includes(searchLower)\r\n        );\r\n      });\r\n    }\r\n\r\n    if (statusFilter) {\r\n      items = items.filter((loan) => loan.status === statusFilter);\r\n    }\r\n\r\n    const parseDate = (value) => {\r\n      if (!value) return null;\r\n      const date = new Date(value);\r\n      return Number.isNaN(date.getTime()) ? null : date;\r\n    };\r\n\r\n    const fromDate = parseDate(dateFromFilter);\r\n    const toDate = parseDate(dateToFilter);\r\n\r\n    if (fromDate) {\r\n      items = items.filter((loan) => {\r\n        const loanDate = parseDate(loan.applicationDate);\r\n        return loanDate ? loanDate >= fromDate : false;\r\n      });\r\n    }\r\n\r\n    if (toDate) {\r\n      items = items.filter((loan) => {\r\n        const loanDate = parseDate(loan.applicationDate);\r\n        return loanDate ? loanDate <= toDate : false;\r\n      });\r\n    }\r\n\r\n    const minAmount = amountMinFilter ? Number(amountMinFilter) : null;\r\n    const maxAmount = amountMaxFilter ? Number(amountMaxFilter) : null;\r\n\r\n    if (minAmount !== null && !Number.isNaN(minAmount)) {\r\n      items = items.filter((loan) => (loan.amount || 0) >= minAmount);\r\n    }\r\n\r\n    if (maxAmount !== null && !Number.isNaN(maxAmount)) {\r\n      items = items.filter((loan) => (loan.amount || 0) <= maxAmount);\r\n    }\r\n\r\n    const getSortValue = (loan) => {\r\n      switch (sortBy) {\r\n        case \"applicationDate\":\r\n          return parseDate(loan.applicationDate)?.getTime() || 0;\r\n        case \"amount\":\r\n          return loan.amount ?? 0;\r\n        case \"interestRate\":\r\n          return loan.interestRate ?? 0;\r\n        case \"term\":\r\n          return loan.term ?? 0;\r\n        case \"status\":\r\n          return loan.status || \"\";\r\n        default:\r\n          return loan[sortBy];\r\n      }\r\n    };\r\n\r\n    items.sort((a, b) => {\r\n      const valueA = getSortValue(a);\r\n      const valueB = getSortValue(b);\r\n\r\n      if (typeof valueA === \"string\" || typeof valueB === \"string\") {\r\n        const comparison = String(valueA || \"\").localeCompare(String(valueB || \"\"));\r\n        return sortOrder === \"asc\" ? comparison : -comparison;\r\n      }\r\n\r\n      const numericA = Number(valueA) || 0;\r\n      const numericB = Number(valueB) || 0;\r\n      const diff = numericA - numericB;\r\n      return sortOrder === \"asc\" ? diff : -diff;\r\n    });\r\n\r\n    return items;\r\n  }, [\r\n    allLoans,\r\n    search,\r\n    statusFilter,\r\n    dateFromFilter,\r\n    dateToFilter,\r\n    amountMinFilter,\r\n    amountMaxFilter,\r\n    sortBy,\r\n    sortOrder,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const totalCount = filteredLoans.length;\r\n    const totalPagesCount = Math.max(1, Math.ceil(totalCount / pageSize));\r\n\r\n    if (page > totalPagesCount) {\r\n      setPage(totalPagesCount);\r\n      return;\r\n    }\r\n\r\n    const start = (page - 1) * pageSize;\r\n    const paginated = filteredLoans.slice(start, start + pageSize);\r\n    setLoans(paginated);\r\n    setTotal(totalCount);\r\n  }, [filteredLoans, page, pageSize]);\r\n\r\n  // Selection handlers\r\n  const handleSelectAll = (checked) => {\r\n    setSelectAll(checked);\r\n    setSelectedLoans(\r\n      checked\r\n        ? loans.filter((loan) => ['pending', 'under_review'].includes(loan.status))\r\n        : []\r\n    );\r\n  };\r\n\r\n  const handleSelectLoan = (loan, checked) => {\r\n    if (checked) {\r\n      setSelectedLoans([...selectedLoans, loan]);\r\n    } else {\r\n      setSelectedLoans(selectedLoans.filter(l => l.id !== loan.id));\r\n      setSelectAll(false);\r\n    }\r\n  };\r\n\r\n  // CRUD operations\r\n  const handleSaveLoan = () => {\r\n    showNotification(\"Editing loans is not supported yet\", \"info\");\r\n    setEditModalOpen(false);\r\n  };\r\n\r\n  const findLoanById = useCallback(\r\n    (loanId) => allLoans.find((loan) => String(loan.id) === String(loanId)),\r\n    [allLoans]\r\n  );\r\n\r\n  const refreshAndNotify = useCallback(\r\n    (message, severity = \"success\") => {\r\n      showNotification(message, severity);\r\n      loadLoans();\r\n    },\r\n    [loadLoans, showNotification]\r\n  );\r\n\r\n  const handleBulkAction = async (actionType, loanIds, params = {}) => {\r\n    if (!loanIds.length) {\r\n      showNotification(\"No loans selected\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    // Check permissions for all selected loans\r\n    const eligibleLoans = [];\r\n    const ineligibleLoans = [];\r\n    \r\n    loanIds.forEach(loanId => {\r\n      const loanData = findLoanById(loanId);\r\n      const permissions = getActionPermissions(loanData?.status);\r\n      \r\n      let canPerformAction = false;\r\n      switch (actionType) {\r\n        case 'approve':\r\n          canPerformAction = permissions.canApprove;\r\n          break;\r\n        case 'deny':\r\n          canPerformAction = permissions.canReject;\r\n          break;\r\n        case 'flag':\r\n          canPerformAction = permissions.canQuery;\r\n          break;\r\n      }\r\n      \r\n      if (canPerformAction) {\r\n        eligibleLoans.push(loanId);\r\n      } else {\r\n        ineligibleLoans.push({ id: loanId, status: loanData?.status, message: permissions.statusMessage });\r\n      }\r\n    });\r\n    \r\n    if (ineligibleLoans.length > 0) {\r\n      const ineligibleMessage = `${ineligibleLoans.length} loan(s) cannot be processed due to their status`;\r\n      showNotification(ineligibleMessage, \"warning\");\r\n    }\r\n    \r\n    if (eligibleLoans.length === 0) {\r\n      showNotification(\"No eligible loans to process\", \"warning\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      switch (actionType) {\r\n        case 'approve':\r\n          await Promise.all(\r\n            eligibleLoans.map((loanId) =>\r\n              approveAdminLoan(loanId, {\r\n                approvedAmount: params.approvedAmount ?? findLoanById(loanId)?.amount ?? 0,\r\n                approvalNotes: params.notes,\r\n              })\r\n            )\r\n          );\r\n          refreshAndNotify(`${eligibleLoans.length} loan(s) approved`);\r\n          break;\r\n        case 'deny':\r\n          await Promise.all(\r\n            eligibleLoans.map((loanId) =>\r\n              rejectAdminLoan(loanId, { reason: params.reason })\r\n            )\r\n          );\r\n          refreshAndNotify(`${eligibleLoans.length} loan(s) rejected`);\r\n          break;\r\n        case 'flag':\r\n          await Promise.all(\r\n            eligibleLoans.map((loanId) =>\r\n              raiseAdminLoanQuery(loanId, { message: params.notes })\r\n            )\r\n          );\r\n          refreshAndNotify(`${eligibleLoans.length} loan(s) flagged for review`);\r\n          break;\r\n        default:\r\n          showNotification(\"Bulk action not supported\", \"warning\");\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error performing bulk ${actionType}`, error);\r\n      const errorMessage = error.message || `Error performing bulk ${actionType}`;\r\n      showNotification(errorMessage, \"error\");\r\n    }\r\n  };\r\n\r\n  // Individual loan actions\r\n  const handleApproveLoan = async (loanId, notes = \"\") => {\r\n    try {\r\n      const loanData = findLoanById(loanId);\r\n      const permissions = getActionPermissions(loanData?.status);\r\n      \r\n      if (!permissions.canApprove) {\r\n        showNotification(permissions.statusMessage, \"warning\");\r\n        return;\r\n      }\r\n      \r\n      await approveAdminLoan(loanId, { approvedAmount: loanData?.amount, approvalNotes: notes });\r\n      refreshAndNotify(\"Loan approved successfully\");\r\n    } catch (error) {\r\n      console.error(\"Error approving loan\", error);\r\n      const errorMessage = error.message || \"Error approving loan\";\r\n      showNotification(errorMessage, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleDenyLoan = async (loanId, reason = \"\") => {\r\n    try {\r\n      const loanData = findLoanById(loanId);\r\n      const permissions = getActionPermissions(loanData?.status);\r\n      \r\n      if (!permissions.canReject) {\r\n        showNotification(permissions.statusMessage, \"warning\");\r\n        return;\r\n      }\r\n      \r\n      await rejectAdminLoan(loanId, { reason });\r\n      refreshAndNotify(\"Loan rejected\");\r\n    } catch (error) {\r\n      console.error(\"Error rejecting loan\", error);\r\n      const errorMessage = error.message || \"Error rejecting loan\";\r\n      showNotification(errorMessage, \"error\");\r\n    }\r\n  };\r\n\r\n  const handleRaiseQuery = async (loanId, message = \"\") => {\r\n    try {\r\n      const loanData = findLoanById(loanId);\r\n      const permissions = getActionPermissions(loanData?.status);\r\n      \r\n      if (!permissions.canQuery) {\r\n        showNotification(permissions.statusMessage, \"warning\");\r\n        return;\r\n      }\r\n      \r\n      await raiseAdminLoanQuery(loanId, { message });\r\n      refreshAndNotify(\"Loan flagged for review\");\r\n    } catch (error) {\r\n      console.error(\"Error flagging loan\", error);\r\n      const errorMessage = error.message || \"Error flagging loan\";\r\n      showNotification(errorMessage, \"error\");\r\n    }\r\n  };\r\n\r\n  // Export functions\r\n  const handleExportCSV = () => {\r\n    const targeted = selectedLoans.length ? selectedLoans : filteredLoans;\r\n    exportLoansToCsv('drivecash_loans.csv', targeted);\r\n    showNotification(`Exported ${targeted.length} loans to CSV`);\r\n  };\r\n\r\n  const handleExportJSON = () => {\r\n    const targeted = selectedLoans.length ? selectedLoans : filteredLoans;\r\n    exportLoansToJson('drivecash_loans.json', targeted);\r\n    showNotification(`Exported ${targeted.length} loans to JSON`);\r\n  };\r\n\r\n  // Clear filters\r\n  const clearFilters = () => {\r\n    setSearch(\"\");\r\n    setStatusFilter(\"\");\r\n    setDateFromFilter(\"\");\r\n    setDateToFilter(\"\");\r\n    setAmountMinFilter(\"\");\r\n    setAmountMaxFilter(\"\");\r\n    setPage(1);\r\n  };\r\n\r\n  const totalPages = Math.max(1, Math.ceil(total / pageSize));\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'approved':\r\n        return 'success';\r\n      case 'rejected':\r\n      case 'denied':\r\n        return 'error';\r\n      case 'pending':\r\n        return 'warning';\r\n      case 'under_review':\r\n        return 'info';\r\n      case 'withdrawn':\r\n        return 'secondary';\r\n      case 'draft':\r\n        return 'default';\r\n      default:\r\n        return 'primary';\r\n    }\r\n  };\r\n\r\n  const summary = useMemo(() => {\r\n    const dataset = filteredLoans;\r\n    const totalLoans = dataset.length;\r\n    const approvedCount = dataset.filter((loan) => loan.status === 'approved').length;\r\n    const pendingCount = dataset.filter((loan) => loan.status === 'pending').length;\r\n    const underReviewCount = dataset.filter((loan) => loan.status === 'under_review').length;\r\n    const rejectedCount = dataset.filter((loan) => loan.status === 'rejected' || loan.status === 'denied').length;\r\n    const totalAmount = dataset.reduce((sum, loan) => sum + (Number(loan.amount) || 0), 0);\r\n\r\n    return {\r\n      totalLoans,\r\n      approvedCount,\r\n      pendingCount,\r\n      underReviewCount,\r\n      rejectedCount,\r\n      totalAmount,\r\n    };\r\n  }, [filteredLoans]);\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <DashboardNavbar />\r\n      \r\n      {/* Dashboard Cards */}\r\n      <MDBox mb={3}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={6} lg={3}>\r\n            <div className=\"loan-management-card enhanced-stats-card\">\r\n              <ComplexStatisticsCard\r\n                color=\"success\"\r\n                icon={<Icon className=\"glow-icon-loan glow-icon-active\" sx={{ fontSize: 28 }}>account_balance</Icon>}\r\n                title=\"Loan Applications\"\r\n                count={summary.totalLoans.toString()}\r\n                percentage={{ color: 'success', amount: `${summary.approvedCount} approved`, label: 'current view' }}\r\n              />\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6} lg={3}>\r\n            <div className=\"loan-management-card enhanced-stats-card\">\r\n              <ComplexStatisticsCard\r\n                color=\"success\"\r\n                icon={<Icon className=\"glow-icon-loan glow-icon-success\" sx={{ fontSize: 28 }}>trending_up</Icon>}\r\n                title=\"Approved Loans\"\r\n                count={summary.approvedCount.toString()}\r\n                percentage={{ color: 'success', amount: `${summary.rejectedCount} rejected`, label: 'decisioned' }}\r\n              />\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6} lg={3}>\r\n            <div className=\"loan-management-card enhanced-stats-card\">\r\n              <ComplexStatisticsCard\r\n                color=\"warning\"\r\n                icon={<Icon className=\"glow-icon-loan glow-icon-pending\" sx={{ fontSize: 28 }}>hourglass_empty</Icon>}\r\n                title=\"Pending Decisions\"\r\n                count={(summary.pendingCount + summary.underReviewCount).toString()}\r\n                percentage={{ color: 'warning', amount: `${summary.pendingCount} pending`, label: `${summary.underReviewCount} flagged` }}\r\n              />\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={6} lg={3}>\r\n            <div className=\"loan-management-card enhanced-stats-card\">\r\n              <ComplexStatisticsCard\r\n                color=\"info\"\r\n                icon={<Icon className=\"glow-icon-loan glow-icon-success\" sx={{ fontSize: 28 }}>help_outline</Icon>}\r\n                title=\"Flagged Queries\"\r\n                count={summary.underReviewCount.toString()}\r\n                percentage={{\r\n                  color: 'info',\r\n                  amount: `$${summary.totalAmount.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`,\r\n                  label: 'total requested',\r\n                }}\r\n              />\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </MDBox>\r\n\r\n      <Card>\r\n      {/* Header */}\r\n      <MDBox p={3}>\r\n        <MDBox display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n          <MDBox>\r\n            <MDTypography variant=\"h5\" fontWeight=\"bold\" color=\"success\">\r\n              Loans Management\r\n            </MDTypography>\r\n            <MDTypography variant=\"caption\" color=\"text\">\r\n              Total: {total} loans | Selected: {selectedLoans.length}\r\n            </MDTypography>\r\n          </MDBox>\r\n          <MDBox display=\"flex\" gap={1}>\r\n              <MDButton variant=\"outlined\" onClick={handleExportCSV} disabled={!filteredLoans.length}>\r\n              Export CSV\r\n            </MDButton>\r\n            <MDButton variant=\"outlined\" onClick={handleExportJSON}>\r\n              Export JSON\r\n            </MDButton>\r\n            {selectedLoans.length > 0 && (\r\n              <MDButton variant=\"contained\" color=\"warning\" onClick={() => setBulkModalOpen(true)}>\r\n                Bulk Actions ({selectedLoans.length})\r\n              </MDButton>\r\n            )}\r\n          </MDBox>\r\n        </MDBox>\r\n      </MDBox>\r\n      </Card>\r\n\r\n      {/* Filters */}\r\n      <Card sx={{ p: 3, mb: 3 }}>\r\n        <MDBox display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\r\n          <MDBox display=\"flex\" alignItems=\"center\" gap={2}>\r\n            <MDTypography variant=\"h6\" fontWeight=\"medium\" color=\"success\">\r\n              Filters & Search\r\n            </MDTypography>\r\n            <VhoozhtInput\r\n              placeholder=\"Search loans...\"\r\n              value={search}\r\n              onChange={(e) => { setSearch(e.target.value); setPage(1); }}\r\n              sx={{ width: 250 }}\r\n              size=\"small\"\r\n            />\r\n          </MDBox>\r\n        </MDBox>\r\n\r\n        {/* Filters */}\r\n        <Grid container spacing={2} justifyContent=\"center\" mb={2}>\r\n          <Grid item xs={12} md={10}>\r\n            <MDBox display=\"flex\" justifyContent=\"center\">\r\n              <Grid container spacing={2} sx={{ maxWidth: 920 }} justifyContent=\"center\">\r\n                <Grid item xs={12} md={2.4}>\r\n                  <VhoozhtSelect\r\n                    label=\"Status\"\r\n                    fullWidth\r\n                    value={statusFilter}\r\n                    onChange={(e) => { setStatusFilter(e.target.value); setPage(1); }}\r\n                    options={['', 'draft', 'pending', 'under_review', 'approved', 'rejected', 'withdrawn'].map((statusValue) => ({\r\n                      value: statusValue,\r\n                      label: statusValue ? formatStatusLabel(statusValue) : 'All',\r\n                    }))}\r\n                    sx={{ '& .MuiInputBase-root': { height: 40 } }}\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={2.2}>\r\n                  <VhoozhtInput\r\n                    label=\"Date From\"\r\n                    type=\"date\"\r\n                    fullWidth\r\n                    value={dateFromFilter}\r\n                    onChange={(e) => { setDateFromFilter(e.target.value); setPage(1); }}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ '& .MuiInputBase-root': { height: 40 } }}\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={2.2}>\r\n                  <VhoozhtInput\r\n                    label=\"Date To\"\r\n                    type=\"date\"\r\n                    fullWidth\r\n                    value={dateToFilter}\r\n                    onChange={(e) => { setDateToFilter(e.target.value); setPage(1); }}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ '& .MuiInputBase-root': { height: 40 } }}\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={2.1}>\r\n                  <VhoozhtInput\r\n                    label=\"Min Amount\"\r\n                    type=\"number\"\r\n                    fullWidth\r\n                    value={amountMinFilter}\r\n                    onChange={(e) => { setAmountMinFilter(e.target.value); setPage(1); }}\r\n                    sx={{ '& .MuiInputBase-root': { height: 40 } }}\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={2.1}>\r\n                  <VhoozhtInput\r\n                    label=\"Max Amount\"\r\n                    type=\"number\"\r\n                    fullWidth\r\n                    value={amountMaxFilter}\r\n                    onChange={(e) => { setAmountMaxFilter(e.target.value); setPage(1); }}\r\n                    sx={{ '& .MuiInputBase-root': { height: 40 } }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </MDBox>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <MDBox display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <MDButton variant=\"outlined\" onClick={clearFilters} size=\"small\">\r\n            Clear Filters\r\n          </MDButton>\r\n          <MDBox display=\"flex\" alignItems=\"center\" gap={1}>\r\n            <MDTypography variant=\"caption\">Sort by:</MDTypography>\r\n            <VhoozhtSelect\r\n              size=\"small\"\r\n              value={sortBy}\r\n              onChange={(e) => setSortBy(e.target.value)}\r\n              options={[\r\n                { value: 'applicationDate', label: 'Application Date' },\r\n                { value: 'amount', label: 'Amount' },\r\n                { value: 'interestRate', label: 'Interest Rate' },\r\n                { value: 'term', label: 'Term' },\r\n                { value: 'status', label: 'Status' }\r\n              ]}\r\n            />\r\n            <VhoozhtSelect\r\n              size=\"small\"\r\n              value={sortOrder}\r\n              onChange={(e) => setSortOrder(e.target.value)}\r\n              options={[\r\n                { value: 'asc', label: 'Ascending' },\r\n                { value: 'desc', label: 'Descending' }\r\n              ]}\r\n            />\r\n          </MDBox>\r\n        </MDBox>\r\n      </Card>\r\n\r\n      {/* Data Table */}\r\n      <Card>\r\n        <EnhancedTable\r\n          columns={[\r\n            {\r\n              id: 'id',\r\n              label: 'Loan ID',\r\n              width: 120,\r\n              minWidth: 100,\r\n              align: 'left',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-id\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\">\r\n                  <MDTypography variant=\"button\" fontWeight=\"medium\" noWrap>\r\n                    {value}\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'borrowerName',\r\n              label: 'Borrower',\r\n              width: 200,\r\n              minWidth: 150,\r\n              align: 'left',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-borrower\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\">\r\n                  <MDTypography variant=\"body2\" noWrap title={value}>\r\n                    {value}\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'amount',\r\n              label: 'Amount',\r\n              width: 140,\r\n              align: 'right',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-amount\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"flex-end\">\r\n                  <MDTypography variant=\"body2\" fontWeight=\"medium\" color=\"success\">\r\n                    {formatters.currency(value)}\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'interestRate',\r\n              label: 'Rate',\r\n              width: 100,\r\n              align: 'center',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-rate\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n                  <MDTypography variant=\"body2\" fontWeight=\"medium\">\r\n                    {formatters.percentage(value)}\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'term',\r\n              label: 'Term',\r\n              width: 120,\r\n              align: 'center',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-term\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n                  <MDTypography variant=\"body2\">\r\n                    {value} months\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'status',\r\n              label: 'Status',\r\n              width: 120,\r\n              align: 'center',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-status status-chip\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n                  <Chip label={formatStatusLabel(value)} color={getStatusColor(value)} size=\"small\" />\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'applicationDate',\r\n              label: 'Applied',\r\n              width: 130,\r\n              align: 'center',\r\n              format: (value) => (\r\n                <MDBox className=\"loan-date\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n                  <MDTypography variant=\"body2\">\r\n                    {formatters.date(value)}\r\n                  </MDTypography>\r\n                </MDBox>\r\n              ),\r\n            },\r\n            {\r\n              id: 'actions',\r\n              label: 'Actions',\r\n              width: 200,\r\n              align: 'center',\r\n              format: (value, row) => (\r\n                <MDBox className=\"loan-actions\" minHeight=\"48px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\" gap={1}>\r\n                  {/* Dropdown Menu Button */}\r\n                  <Tooltip title=\"Actions Menu\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setActionMenuAnchor(e.currentTarget);\r\n                        setActionMenuLoan(row);\r\n                      }}\r\n                      sx={{\r\n                        width: 36,\r\n                        height: 36,\r\n                        bgcolor: alpha('#1976d2', 0.08),\r\n                        '&:hover': { bgcolor: alpha('#1976d2', 0.15) }\r\n                      }}\r\n                    >\r\n                      <Icon fontSize=\"small\">more_vert</Icon>\r\n                    </IconButton>\r\n                  </Tooltip>\r\n\r\n                  {/* Quick Review Button */}\r\n                  <Tooltip title=\"Review Application\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setReviewLoan(row);\r\n                        setReviewModalOpen(true);\r\n                      }}\r\n                      sx={{\r\n                        width: 36,\r\n                        height: 36,\r\n                        bgcolor: alpha('#2196f3', 0.08),\r\n                        '&:hover': { bgcolor: alpha('#2196f3', 0.15) }\r\n                      }}\r\n                    >\r\n                      <Icon fontSize=\"small\">visibility</Icon>\r\n                    </IconButton>\r\n                  </Tooltip>\r\n\r\n                  {/* Quick Approve for pending/under_review */}\r\n                  {(row.status === 'pending' || row.status === 'under_review') && (\r\n                    <Tooltip title=\"Quick Approve\">\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={() => handleApproveLoan(row.id)}\r\n                        sx={{\r\n                          width: 36,\r\n                          height: 36,\r\n                          color: '#4caf50',\r\n                          '&:hover': { bgcolor: alpha('#4caf50', 0.1) }\r\n                        }}\r\n                      >\r\n                        <Icon fontSize=\"small\">check_circle</Icon>\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n\r\n                  {/* Quick Decline for pending/under_review */}\r\n                  {(row.status === 'pending' || row.status === 'under_review') && (\r\n                    <Tooltip title=\"Quick Decline\">\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={() => handleDenyLoan(row.id, \"Quick decline\")}\r\n                        sx={{\r\n                          width: 36,\r\n                          height: 36,\r\n                          color: '#f44336',\r\n                          '&:hover': { bgcolor: alpha('#f44336', 0.1) }\r\n                        }}\r\n                      >\r\n                        <Icon fontSize=\"small\">cancel</Icon>\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n                </MDBox>\r\n              ),\r\n            },\r\n          ]}\r\n          data={loans}\r\n          selectedItems={selectedLoans}\r\n          onSelectAll={handleSelectAll}\r\n          onSelectItem={handleSelectLoan}\r\n          showCheckbox\r\n          stickyHeader={false}\r\n          maxHeight=\"70vh\"\r\n        />\r\n\r\n        {/* Action Dropdown Menu */}\r\n        <Menu\r\n          anchorEl={actionMenuAnchor}\r\n          open={Boolean(actionMenuAnchor)}\r\n          onClose={() => setActionMenuAnchor(null)}\r\n          PaperProps={{\r\n            sx: { minWidth: 200 }\r\n          }}\r\n        >\r\n          <MenuItem\r\n            onClick={() => {\r\n              setReviewLoan(actionMenuLoan);\r\n              setReviewModalOpen(true);\r\n              setActionMenuAnchor(null);\r\n            }}\r\n          >\r\n            <Icon sx={{ mr: 1 }}>visibility</Icon>\r\n            Review Application\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={() => {\r\n              setEditing(actionMenuLoan);\r\n              setEditModalOpen(true);\r\n              setActionMenuAnchor(null);\r\n            }}\r\n          >\r\n            <Icon sx={{ mr: 1 }}>edit</Icon>\r\n            Edit Details\r\n          </MenuItem>\r\n          {actionMenuLoan && (actionMenuLoan.status === 'pending' || actionMenuLoan.status === 'under_review') && (\r\n            <>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleApproveLoan(actionMenuLoan.id);\r\n                  setActionMenuAnchor(null);\r\n                }}\r\n                sx={{ color: '#4caf50' }}\r\n              >\r\n                <Icon sx={{ mr: 1 }}>check_circle</Icon>\r\n                Approve\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleDenyLoan(actionMenuLoan.id);\r\n                  setActionMenuAnchor(null);\r\n                }}\r\n                sx={{ color: '#f44336' }}\r\n              >\r\n                <Icon sx={{ mr: 1 }}>cancel</Icon>\r\n                Decline\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleRaiseQuery(actionMenuLoan.id);\r\n                  setActionMenuAnchor(null);\r\n                }}\r\n                sx={{ color: '#ff9800' }}\r\n              >\r\n                <Icon sx={{ mr: 1 }}>help_outline</Icon>\r\n                Raise Query\r\n              </MenuItem>\r\n            </>\r\n          )}\r\n        </Menu>\r\n\r\n        <MDBox p={3} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <MDBox display=\"flex\" alignItems=\"center\" gap={2}>\r\n            <MDTypography variant=\"caption\">Page size:</MDTypography>\r\n            <VhoozhtSelect\r\n              size=\"small\"\r\n              value={pageSize}\r\n              onChange={(e) => {\r\n                setPageSize(Number(e.target.value));\r\n                setPage(1);\r\n              }}\r\n              options={[\r\n                { value: 5, label: '5' },\r\n                { value: 10, label: '10' },\r\n                { value: 25, label: '25' },\r\n                { value: 50, label: '50' }\r\n              ]}\r\n            />\r\n          </MDBox>\r\n          <Pagination\r\n            count={totalPages}\r\n            page={page}\r\n            onChange={(e, newPage) => setPage(newPage)}\r\n            color=\"primary\"\r\n          />\r\n        </MDBox>\r\n      </Card>\r\n\r\n      {/* Modals */}\r\n      <LoanEditModal\r\n        open={editModalOpen}\r\n        onClose={() => setEditModalOpen(false)}\r\n        loan={editing}\r\n        onSave={handleSaveLoan}\r\n      />\r\n\r\n      <BulkLoanOperationsModal\r\n        open={bulkModalOpen}\r\n        onClose={() => setBulkModalOpen(false)}\r\n        selectedLoans={selectedLoans}\r\n        onBulkAction={handleBulkAction}\r\n      />\r\n\r\n      <LoanReviewModal\r\n        open={reviewModalOpen}\r\n        onClose={() => {\r\n          setReviewModalOpen(false);\r\n          setReviewLoan(null);\r\n        }}\r\n        loan={reviewLoan}\r\n        onApprove={handleApproveLoan}\r\n        onDecline={handleDenyLoan}\r\n        onQuery={handleRaiseQuery}\r\n      />\r\n\r\n      {/* Notification */}\r\n      <Snackbar\r\n        open={notification.open}\r\n        autoHideDuration={4000}\r\n        onClose={() => setNotification({ ...notification, open: false })}\r\n      >\r\n        <Alert severity={notification.severity} onClose={() => setNotification({ ...notification, open: false })}>\r\n          {notification.message}\r\n        </Alert>\r\n  </Snackbar>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default AdminLoans;\r\n","import React from 'react';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Checkbox,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport MDBox from 'components/MDBox';\r\nimport MDTypography from 'components/MDTypography';\r\n\r\n// Styled components for consistent table styling\r\nconst StyledTableContainer = styled(TableContainer)(({ theme }) => ({\r\n  borderRadius: theme.spacing(2),\r\n  overflow: 'hidden',\r\n  boxShadow: 'none',\r\n  border: `1px solid ${theme.palette.grey[200]}`,\r\n}));\r\n\r\nconst StyledTableHead = styled(TableHead)(({ theme }) => ({\r\n  backgroundColor: theme.palette.grey[50],\r\n}));\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme, width }) => ({\r\n  padding: theme.spacing(2),\r\n  fontSize: '0.875rem',\r\n  fontWeight: 500,\r\n  borderBottom: `1px solid ${theme.palette.grey[200]}`,\r\n  whiteSpace: 'nowrap',\r\n  overflow: 'hidden',\r\n  textOverflow: 'ellipsis',\r\n  width: width || 'auto',\r\n  maxWidth: width ? `${width}px` : 'none',\r\n  verticalAlign: 'middle',\r\n  height: 'auto',\r\n  minHeight: '56px',\r\n  \r\n  '&.MuiTableCell-head': {\r\n    backgroundColor: theme.palette.grey[50],\r\n    fontWeight: 600,\r\n    color: theme.palette.text.primary,\r\n    textTransform: 'uppercase',\r\n    fontSize: '0.75rem',\r\n    letterSpacing: '0.5px',\r\n    verticalAlign: 'middle',\r\n    height: '56px',\r\n  },\r\n  \r\n  '&.MuiTableCell-body': {\r\n    verticalAlign: 'middle',\r\n    height: 'auto',\r\n    minHeight: '56px',\r\n  },\r\n  \r\n  // Ensure all content within cells is vertically centered\r\n  '& > *': {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    minHeight: '40px',\r\n  },\r\n  \r\n  // Special handling for checkboxes\r\n  '&.MuiTableCell-paddingCheckbox': {\r\n    '& > *': {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n  },\r\n}));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  '&:last-child td': {\r\n    borderBottom: 0,\r\n  },\r\n}));\r\n\r\nconst DataCell = styled(MDBox)({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'inherit',\r\n  maxWidth: '100%',\r\n  overflow: 'hidden',\r\n  minHeight: '48px',\r\n  width: '100%',\r\n  \r\n  // Ensure nested content aligns properly\r\n  '& .MuiChip-root': {\r\n    margin: '2px 0',\r\n  },\r\n  \r\n  '& .MuiIconButton-root': {\r\n    margin: '0',\r\n    padding: '8px',\r\n  },\r\n  \r\n  '& .MuiAvatar-root': {\r\n    margin: '2px 0',\r\n  },\r\n  \r\n  // Handle multi-line content\r\n  '& .MuiTypography-root': {\r\n    lineHeight: '1.4',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nconst TruncatedText = styled(MDTypography)(({ maxWidth = 200 }) => ({\r\n  maxWidth: `${maxWidth}px`,\r\n  overflow: 'hidden',\r\n  textOverflow: 'ellipsis',\r\n  whiteSpace: 'nowrap',\r\n}));\r\n\r\n// Enhanced Table Component\r\nfunction EnhancedTable({\r\n  columns = [],\r\n  data = [],\r\n  selectedItems = [],\r\n  onSelectAll,\r\n  onSelectItem,\r\n  showCheckbox = false,\r\n  stickyHeader = false,\r\n  maxHeight = 'auto',\r\n  responsive = true,\r\n}) {\r\n  const allSelected = data.length > 0 && selectedItems.length === data.length;\r\n  const indeterminate = selectedItems.length > 0 && selectedItems.length < data.length;\r\n\r\n  const handleSelectAll = (event) => {\r\n    if (onSelectAll) {\r\n      onSelectAll(event.target.checked);\r\n    }\r\n  };\r\n\r\n  const handleSelectItem = (item) => (event) => {\r\n    if (onSelectItem) {\r\n      onSelectItem(item, event.target.checked);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <StyledTableContainer component={Paper} sx={{ maxHeight, overflow: 'auto' }}>\r\n      <Table stickyHeader={stickyHeader} size=\"medium\">\r\n        <StyledTableHead>\r\n          <TableRow>\r\n            {showCheckbox && (\r\n              <StyledTableCell padding=\"checkbox\" width={50}>\r\n                <Checkbox\r\n                  indeterminate={indeterminate}\r\n                  checked={allSelected}\r\n                  onChange={handleSelectAll}\r\n                  color=\"primary\"\r\n                />\r\n              </StyledTableCell>\r\n            )}\r\n            {columns.map((column) => (\r\n              <StyledTableCell\r\n                key={column.id}\r\n                align={column.align || 'left'}\r\n                width={column.width}\r\n                sx={{ minWidth: column.minWidth || 'auto' }}\r\n              >\r\n                {column.label}\r\n              </StyledTableCell>\r\n            ))}\r\n          </TableRow>\r\n        </StyledTableHead>\r\n        <TableBody>\r\n          {data.map((row, index) => (\r\n            <StyledTableRow key={row.id || index}>\r\n              {showCheckbox && (\r\n                <StyledTableCell padding=\"checkbox\">\r\n                  <Checkbox\r\n                    checked={selectedItems.some(item => item.id === row.id)}\r\n                    onChange={handleSelectItem(row)}\r\n                    color=\"primary\"\r\n                  />\r\n                </StyledTableCell>\r\n              )}\r\n              {columns.map((column) => (\r\n                <StyledTableCell\r\n                  key={column.id}\r\n                  align={column.align || 'left'}\r\n                  width={column.width}\r\n                >\r\n                  <DataCell>\r\n                    {column.format ? column.format(row[column.id], row) : (\r\n                      <TruncatedText\r\n                        variant=\"body2\"\r\n                        maxWidth={column.maxWidth || 200}\r\n                        title={String(row[column.id])}\r\n                      >\r\n                        {row[column.id]}\r\n                      </TruncatedText>\r\n                    )}\r\n                  </DataCell>\r\n                </StyledTableCell>\r\n              ))}\r\n            </StyledTableRow>\r\n          ))}\r\n          {data.length === 0 && (\r\n            <StyledTableRow>\r\n              <StyledTableCell colSpan={columns.length + (showCheckbox ? 1 : 0)} align=\"center\">\r\n                <MDBox py={4}>\r\n                  <MDTypography variant=\"body2\" color=\"text\" opacity={0.7}>\r\n                    No data available\r\n                  </MDTypography>\r\n                </MDBox>\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </StyledTableContainer>\r\n  );\r\n}\r\n\r\nexport default EnhancedTable;\r\n"],"names":["toNumber","value","undefined","num","Number","isNaN","toInteger","int","parseInt","pickApplicationDate","loan","submitted_at","created_at","updated_at","deriveInterestRate","_loan$ai_analysis_dat","_loan$ai_analysis_dat2","_loan$ai_analysis_dat3","_loan$ai_analysis_dat4","aiRate","ai_analysis_data","loan_assessment","interest_rate","numeric","buildBorrowerName","_loan$personal_info","_loan$personal_info2","full_name","first","first_name","personal_info","last","last_name","concat","trim","normalizeLoan","_loan$personal_info3","_loan$personal_info4","_toNumber","_toInteger","normalizedStatus","status","toLowerCase","id","applicationId","application_id","borrowerName","email","phone","amount","interestRate","term","applicationDate","createdAt","raw","async","fetchAdminLoans","response","fetchLoansApi","records","Array","isArray","results","applications","data","map","approveAdminLoan","approvedAmount","approvalNotes","arguments","length","payload","approved_amount","approval_notes","apiClient","post","error","_error$response","_error$response2","_error$response2$data","errorMessage","Error","rejectAdminLoan","reason","notes","_error$response3","_error$response4","_error$response4$data","raiseAdminLoanQuery","message","_error$response5","_error$response6","_error$response6$data","formatStatusLabel","toString","replace","char","toUpperCase","getActionPermissions","canApprove","includes","canReject","canQuery","canWithdraw","statusMessage","getStatusActionMessage","getCardMediaUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","CardMediaRoot","styled","name","overridesResolver","props","styles","ownerState","isMediaComponent","isImageComponent","root","media","img","_ref","_extends","display","backgroundSize","backgroundRepeat","backgroundPosition","width","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","React","inProps","ref","useThemeProps","children","className","component","image","src","style","other","_objectWithoutPropertiesLoose","indexOf","composedStyle","backgroundImage","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","as","role","ImageModal","open","onClose","imageSrc","title","_jsxs","Dialog","maxWidth","fullWidth","DialogTitle","MDBox","justifyContent","alignItems","MDTypography","variant","IconButton","onClick","size","Icon","DialogContent","minHeight","alt","maxHeight","TabPanel","_ref2","index","hidden","py","_ref3","onApprove","onDecline","onQuery","activeTab","setActiveTab","useState","action","setAction","setReason","setNotes","setApprovedAmount","imageModalOpen","setImageModalOpen","selectedImage","setSelectedImage","photos","field","forEach","_ref4","push","type","documents","doc","document_type","file","url","description","uploaded_at","is_analyzed","_Fragment","color","Chip","label","approved","rejected","pending","under_review","draft","sx","textTransform","Box","borderBottom","borderColor","Tabs","onChange","handleTabChange","event","newValue","Tab","Grid","container","spacing","item","xs","md","Card","p","height","mb","flexDirection","gap","fontWeight","dob","social_security","slice","identification_type","identification_no","banks_name","toLocaleString","vehicle_make","vehicleMake","vehicle_model","vehicleModel","vehicle_year","vehicleYear","vehicle_vin","vehicleVin","vehicle_mileage","vehicleMileage","applicant_estimated_value","employment_status","income_source","income","gross_monthly_income","employment_length","pay_frequency","credit_score","active_bankruptcy","direct_deposit","military_status","street","city","state","zip_code","co_applicant_first_name","co_applicant_name","co_applicant_last_name","co_applicant_email","co_applicant_phone","co_applicant_ssn","additional_data","Object","keys","entries","_ref5","key","displayKey","capitalizedKey","charAt","JSON","stringify","String","photo","sm","cursor","transition","transform","boxShadow","handleImageClick","CardMedia","Date","toLocaleDateString","mt","textAlign","fontSize","ai_estimated_value","Divider","ai_risk_assessment","ai_approval_suggestion","ai_recommendation","ai_analysis_timestamp","overflow","bgcolor","borderRadius","margin","whiteSpace","wordBreak","VhoozhtSelect","e","target","options","VhoozhtInput","placeholder","VhoozhtTextarea","rows","required","DialogActions","MDButton","alert","mapLoanForExport","LoanEditModal","onSave","form","setForm","remainingBalance","monthlyPayment","useEffect","f","_objectSpread","parseFloat","step","statusValue","BulkLoanOperationsModal","selectedLoans","onBulkAction","operation","setOperation","handleClose","minRows","handleBulkAction","loanIds","disabled","allLoans","setAllLoans","loans","setLoans","total","setTotal","loading","setLoading","search","setSearch","statusFilter","setStatusFilter","dateFromFilter","setDateFromFilter","dateToFilter","setDateToFilter","amountMinFilter","setAmountMinFilter","amountMaxFilter","setAmountMaxFilter","page","setPage","pageSize","setPageSize","sortBy","setSortBy","sortOrder","setSortOrder","setSelectedLoans","selectAll","setSelectAll","editing","setEditing","editModalOpen","setEditModalOpen","bulkModalOpen","setBulkModalOpen","reviewLoan","setReviewLoan","reviewModalOpen","setReviewModalOpen","actionMenuAnchor","setActionMenuAnchor","actionMenuLoan","setActionMenuLoan","notification","setNotification","severity","showNotification","useCallback","loadLoans","fetchedLoans","console","filteredLoans","useMemo","items","searchLower","filter","some","parseDate","date","getTime","fromDate","toDate","loanDate","minAmount","maxAmount","getSortValue","_parseDate","_loan$amount","_loan$interestRate","_loan$term","sort","a","b","valueA","valueB","comparison","localeCompare","diff","totalCount","totalPagesCount","Math","max","ceil","start","paginated","findLoanById","loanId","find","refreshAndNotify","handleApproveLoan","loanData","permissions","handleDenyLoan","handleRaiseQuery","totalPages","getStatusColor","summary","dataset","totalLoans","approvedCount","pendingCount","underReviewCount","rejectedCount","totalAmount","reduce","sum","DashboardLayout","DashboardNavbar","lg","ComplexStatisticsCard","icon","count","percentage","minimumFractionDigits","maximumFractionDigits","handleExportCSV","targeted","exportLoansToCsv","filename","headers","lines","join","row","values","header","blob","Blob","link","document","createElement","href","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","handleExportJSON","exportLoansToJson","InputLabelProps","shrink","clearFilters","EnhancedTable","columns","minWidth","align","format","noWrap","formatters","currency","Tooltip","currentTarget","alpha","selectedItems","onSelectAll","checked","onSelectItem","handleSelectLoan","l","showCheckbox","stickyHeader","Menu","anchorEl","Boolean","PaperProps","MenuItem","mr","Pagination","newPage","handleSaveLoan","actionType","params","eligibleLoans","ineligibleLoans","canPerformAction","ineligibleMessage","Promise","all","_params$approvedAmoun","_findLoanById","LoanReviewModal","Snackbar","autoHideDuration","Alert","StyledTableContainer","TableContainer","theme","border","palette","grey","StyledTableHead","TableHead","backgroundColor","StyledTableCell","TableCell","padding","textOverflow","verticalAlign","text","primary","letterSpacing","StyledTableRow","TableRow","hover","DataCell","lineHeight","TruncatedText","_ref6","responsive","allSelected","indeterminate","Paper","Table","Checkbox","column","TableBody","colSpan","opacity"],"sourceRoot":""}