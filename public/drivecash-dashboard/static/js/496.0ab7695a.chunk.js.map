{"version":3,"file":"static/js/496.0ab7695a.chunk.js","mappings":"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","sources":["services/adminApi.js"],"sourcesContent":["// Simple admin API wrapper with fetch and mock fallbacks\r\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\";\r\n\r\nasync function safeFetch(path, opts = {}) {\r\n  const url = API_BASE + path;\r\n  try {\r\n    const res = await fetch(url, opts);\r\n    if (!res.ok) throw new Error(`API ${url} returned ${res.status}`);\r\n    return await res.json();\r\n  } catch (err) {\r\n    // Fallback: return null to let callers handle mock data\r\n    console.warn(\"adminApi safeFetch failed, falling back to mock:\", err.message);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function getUsers({ page = 1, pageSize = 10, query = \"\" } = {}) {\r\n  const qs = `?page=${page}&pageSize=${pageSize}&q=${encodeURIComponent(query)}`;\r\n  const r = await safeFetch(\"/api/admin/users\" + qs);\r\n  if (r) return r; // expected shape: { items: [], total }\r\n  // mock data (deterministic small generator)\r\n  const base = [\r\n    { id: \"user_001\", name: \"John Doe\", email: \"john.doe@email.com\", status: \"active\" },\r\n    { id: \"user_002\", name: \"Jane Smith\", email: \"jane.smith@email.com\", status: \"suspended\" },\r\n    { id: \"user_003\", name: \"Alice Park\", email: \"alice.park@email.com\", status: \"active\" },\r\n    { id: \"user_004\", name: \"Bob Lee\", email: \"bob.lee@email.com\", status: \"active\" },\r\n    { id: \"user_005\", name: \"Carla Gomez\", email: \"carla.gomez@email.com\", status: \"active\" },\r\n  ];\r\n\r\n  const all = Array.from({ length: 45 }).map((_, i) => base[i % base.length]).map((u, idx) => ({ ...u, id: `user_${100 + idx}`, name: `${u.name} ${idx}` }));\r\n  const q = (query || \"\").toLowerCase();\r\n  const filtered = q ? all.filter(u => (u.name || \"\").toLowerCase().includes(q) || (u.email || \"\").toLowerCase().includes(q) || (u.id || \"\").toLowerCase().includes(q)) : all;\r\n  const total = filtered.length;\r\n  const start = (page - 1) * pageSize;\r\n  const items = filtered.slice(start, start + pageSize);\r\n  return { items, total };\r\n}\r\n\r\nexport async function updateUser(id, patch) {\r\n  const r = await safeFetch(`/api/admin/users/${id}`, { method: \"PUT\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(patch) });\r\n  if (r) return r;\r\n  // Mock: echo\r\n  return { id, ...patch };\r\n}\r\n\r\nexport async function getLoans(query = {}) {\r\n  const r = await safeFetch(`/api/admin/loans`);\r\n  if (r) return r;\r\n  return [];\r\n}\r\n\r\nexport async function approveLoan(id) {\r\n  const r = await safeFetch(`/api/admin/loans/${id}/approve`, { method: \"POST\" });\r\n  if (r) return r;\r\n  return { id, status: \"approved\" };\r\n}\r\n\r\nexport async function denyLoan(id, reason) {\r\n  const r = await safeFetch(`/api/admin/loans/${id}/deny`, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ reason }) });\r\n  if (r) return r;\r\n  return { id, status: \"denied\", reason };\r\n}\r\n\r\nexport async function refundPayment(paymentId, amount) {\r\n  const r = await safeFetch(`/api/admin/payments/${paymentId}/refund`, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ amount }) });\r\n  if (r) return r;\r\n  return { paymentId, refunded: true, amount };\r\n}\r\n\r\nexport async function getAnalytics() {\r\n  const r = await safeFetch(`/api/admin/analytics`);\r\n  if (r) return r;\r\n  // return mock KPIs\r\n  return {\r\n    totalUsers: 1240,\r\n    activeLoans: 320,\r\n    monthlyPayments: 45230,\r\n    revenue: 1234500,\r\n    paymentsByDay: Array.from({ length: 30 }, (_, i) => ({ date: `2025-08-${i + 1}`, amount: Math.floor(Math.random() * 5000) }))\r\n  };\r\n}\r\n\r\nexport async function getAuditLogs() {\r\n  const r = await safeFetch(`/api/admin/audit`);\r\n  if (r) return r;\r\n  return [\r\n    { id: \"log_001\", time: new Date().toISOString(), admin: \"admin_1\", action: \"approve_loan\", details: \"loan_101\" },\r\n    { id: \"log_002\", time: new Date().toISOString(), admin: \"admin_2\", action: \"refund_payment\", details: \"payment_202\" },\r\n  ];\r\n}\r\n\r\nexport async function logAdminAction(entry) {\r\n  const r = await safeFetch(`/api/admin/audit`, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(entry) });\r\n  if (r) return r;\r\n  return { id: `log_${Date.now()}`, ...entry };\r\n}\r\n\r\nexport default {\r\n  getUsers,\r\n  updateUser,\r\n  getLoans,\r\n  approveLoan,\r\n  denyLoan,\r\n  refundPayment,\r\n  getAnalytics,\r\n  getAuditLogs,\r\n  logAdminAction,\r\n};\r\n"],"names":["API_BASE","process","REACT_APP_API_BASE","async","safeFetch","path","opts","arguments","length","undefined","url","res","fetch","ok","Error","concat","status","json","err","console","warn","message","getUsers","page","pageSize","query","qs","encodeURIComponent","r","base","id","name","email","all","Array","from","map","_","i","u","idx","_objectSpread","q","toLowerCase","filtered","filter","includes","total","start","items","slice","updateUser","patch","method","headers","body","JSON","stringify","getLoans","approveLoan","denyLoan","reason","refundPayment","paymentId","amount","refunded","getAnalytics","totalUsers","activeLoans","monthlyPayments","revenue","paymentsByDay","date","Math","floor","random","getAuditLogs","time","Date","toISOString","admin","action","details","logAdminAction","entry","now"],"sourceRoot":""}